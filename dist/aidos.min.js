(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(a,b,c){window.aidos=a('./lib/aidos.js')},{"./lib/aidos.js":10}],2:[function(I,J,K){var L=I('./apiCommands')var M=I('../errors/inputErrors');var N=I('../utils/inputValidator');var O=I("../crypto/curl");var P=I("../crypto/converter");var Q=I("../crypto/signing");var R=I("../crypto/bundle");var S=I("../utils/utils");var T=I("async");'use strict';function api(a){this._makeRequest=a}api.prototype.sendCommand=function(c,d){this._makeRequest.send(c,function(a,b){if(d){return d(a,b)}else{return b}})}api.prototype.batchedSend=function(k,l){var m=this;var n=['addresses','hashes','transactions'];var o={'getTrytes':'trytes','getInclusionStates':'inclusionStates','getBalances':'balances'}var p=Object.keys(k);var q=k.command;if(!o[q]){return m.sendCommand(k,l)}p.forEach(function(f){if(n.indexOf(f)>-1){var g=50;if(k[f].length>g){var h=[];var i;var j=0;T.doWhilst(function(c){var d=k[f].slice(j,j+g);var e=k;e[f]=d;m.sendCommand(e,function(a,b){if(a){return c(a)}c(null,d.length,b)})},function(a,b,c){i=results;h.push(results[o[q]]);j+=g;return b>g},function(a){if(a){return l(a)}else{i[o[q]]=h;return l(null,i)}})}else{m.sendCommand(k,l)}}})}api.prototype.attachToMesh=function(c,d,e,f,g){if(!N.isHash(c)){return g(M.invalidTrunkOrBranch(c))}if(!N.isHash(d)){return g(M.invalidTrunkOrBranch(d))}if(!N.isInt(e)){return g(M.notInt())}if(!N.isArrayOfTrytes(f)){return g(M.invalidTrytes())}var h=L.attachToMesh(c,d,e,f)this.sendCommand(h,function(a,b){if(g){return g(a,b)}else{return b}})}api.prototype.findTransactions=function(d,e){if(!N.isObject(d)){return e(M.invalidKey())}var f=Object.keys(d);var g=['bundles','addresses','tags','approvees'];f.forEach(function(b){if(g.indexOf(b)===-1){return e(M.invalidKey())}var c=d[b];if(b==='tags'){c.forEach(function(a){while(a.length<27){a+='9'}if(!N.isTrytes(a,27)){return e(M.invalidTrytes())}})d[b]=c}else{if(!N.isArrayOfHashes(c)){return e(M.invalidTrytes())}}})var h=L.findTransactions(d);this.sendCommand(h,function(a,b){if(e){return e(a,b)}else{return b}})}api.prototype.getBalances=function(c,d,e){if(!N.isArrayOfHashes(c)){return e(M.invalidTrytes())}var f=L.getBalances(c,d);this.sendCommand(f,function(a,b){if(e){return e(a,b)}else{return b}})}api.prototype.getInclusionStates=function(c,d,e){if(!N.isArrayOfHashes(c)){return e(M.invalidTrytes())}if(!N.isArrayOfHashes(d)){return e(M.invalidTrytes())}var f=L.getInclusionStates(c,d);this.sendCommand(f,function(a,b){if(e){return e(a,b)}else{return b}})}api.prototype.ping=function(c){var d=L.ping();this.sendCommand(d,function(a,b){if(c){return c(a,b)}else{return b}})}api.prototype.getNodeInfo=function(c){var d=L.getNodeInfo();this.sendCommand(d,function(a,b){if(c){return c(a,b)}else{return b}})}api.prototype.getPeerAddresses=function(c){var d=L.getPeerAddresses();this.sendCommand(d,function(a,b){if(c){return c(a,b)}else{return b}})}api.prototype.addPeer=function(c,d){var e=L.addPeer();this.sendCommand(e,function(a,b){if(d){return d(a,b)}else{return b}})}api.prototype.getTips=function(c){var d=L.getTips();this.sendCommand(d,function(a,b){if(c){return c(a,b)}else{return b}})}api.prototype.getTransactionsToApprove=function(c,d){var e=L.getTransactionsToApprove(c);this.sendCommand(e,function(a,b){if(d){return d(a,b)}else{return b}})}api.prototype.getTrytes=function(c,d){if(!N.isArrayOfHashes(c)){return d(M.invalidTrytes())}var e=L.getTrytes(c);this.sendCommand(e,function(a,b){if(d){return d(a,b)}else{return b}})}api.prototype.interruptAttachingToMesh=function(c){var d=L.interruptAttachingToMesh();this.sendCommand(d,function(a,b){if(c){return c(a,b)}else{return b}})}api.prototype.broadcastTransactions=function(c,d){if(!N.isArrayOfAttachedTrytes(c)){return d(M.invalidAttachedTrytes())}var e=L.broadcastTransactions(c);this.sendCommand(e,function(a,b){if(d){return d(a,b)}else{return b}})}api.prototype.storeTransactions=function(c,d){if(!N.isArrayOfAttachedTrytes(c)){return d(M.invalidAttachedTrytes())}var e=L.storeTransactions(c);this.sendCommand(e,function(a,b){if(d){return d(a,b)}else{return b}})}api.prototype.getTransactionsObjects=function(e,f){if(!N.isArrayOfHashes(e)){return f(M.invalidInputs)}this.getTrytes(e,function(b,c){if(b)return f(b);var d=[];c.trytes.forEach(function(a){if(!a){transactionObject.push(null)}else{d.push(S.transactionObject(a))}})return f(null,d)})}api.prototype.findTransactionObjects=function(c,d){var e=this;e.findTransactions(c,function(a,b){if(a)return d(a);e.getTransactionsObjects(b.hashes,d)})}api.prototype.getLatestInclusion=function(c,d){var f=this;f.getNodeInfo(function(e,a){if(e)return d(e);var b=a.latestSolidSubmeshMilestone;return f.getInclusionStates(c,Array(b),d)})}api.prototype.broadcastAndStore=function(e,f){var g=this;g.broadcastTransactions(e,function(c,d){if(!c){g.storeTransactions(e,function(a,b){if(f){return f(a,b)}else{return d}})}})}api.prototype.sendTrytes=function(i,j,k,l){var m=this;m.getTransactionsToApprove(j,function(g,h){if(g){return l(g)}m.attachToMesh(h.trunkTransaction,h.branchTransaction,k,i,function(e,f){if(e){return l(e)}m.broadcastAndStore(f.trytes,function(b,c){if(!b){var d=[];f.trytes.forEach(function(a){d.push(S.transactionObject(a))})return l(null,d)}})})})}api.prototype.sendTransfer=function(c,d,e,f,g,h){var i=this;if(arguments.length<5){return h(new Error("Invalid number of arguments"))}if(arguments.length<5){throw new Error("Invalid number of arguments");return}if(arguments.length===5&&Object.prototype.toString.call(g)==="[object Function]"){h=g;g={}}i.prepareTransfers(c,f,g,function(a,b){if(a){return h(a)}i.sendTrytes(b,d,e,h)})}api.prototype.replayBundle=function(e,f,g,h){var i=this;i.getBundle(e,function(b,c){if(b)return h(b);var d=[];c.forEach(function(a){d.push(S.transactionTrytes(a))})return i.sendTrytes(d.reverse(),f,g,h)})}api.prototype.broadcastBundle=function(e,f){var g=this;g.getBundle(e,function(b,c){if(b)return f(b);var d=[];c.forEach(function(a){d.push(S.transactionTrytes(a))})return g.broadcastTransactions(d.reverse(),f)})}api.prototype._newAddress=function(a,b,c){var d=Q.key(P.trits(a),b,2);var e=Q.digests(d);var f=Q.address(e);var g=P.trytes(f)if(c){g=S.addChecksum(g)}return g}api.prototype.getNewAddress=function(e,f,g){var h=this;if(arguments.length===2&&Object.prototype.toString.call(f)==="[object Function]"){g=f;f={}}if(!N.isTrytes(e)){return g(M.invalidSeed())}var j=f.index||0;var k=f.checksum||false;var l=f.total||null;var m=[];if(l){for(var i=0;i<l;i++,j++){var n=h._newAddress(e,j,k);m.push(n)}return g(null,m)}else{var o=30;var p=j;var q=j;var r=-1;var s=false;T.doWhilst(function(c){p+=o;var d=h._newAddress(e,p,k);h.findTransactions({'addresses':Array(d)},function(a,b){if(a){return c(a)}c(null,d,b)})},function(a,b){if(b.hashes.length==0){if(!s){s=true;q=p-o}r=p;if(p==1){o=-1}else{o=-Math.floor((p-q)/2)}}else{if(s){q=p;o=Math.floor((r-p)/2)}}if(o==0&&b.hashes.length!=0){p++}return o!=0},function(a,b){if(a){return g(a)}else{var c;if(f.returnAll){c=[];for(var i=j;i<=p;i++){c.push(h._newAddress(e,i,k))}}else{c=h._newAddress(e,p,k)}return g(null,c)}})}}api.prototype.getInputs=function(h,j,k){var l=this;if(arguments.length===2&&Object.prototype.toString.call(j)==="[object Function]"){k=j;j={}}if(!N.isTrytes(h)){return k(M.invalidSeed())}var m=j.start||0;var n=j.end||null;var o=j.threshold||null;if(m>n||n>(m+500)){return k(new Error("Invalid inputs provided"))}if(n){var p=[];for(var i=m;i<n;i++){var q=l._newAddress(h,i,false);p.push(q)}getBalanceAndFormat(p)}else{l.getNewAddress(h,{'index':m,'returnAll':true},function(a,b){if(a){return k(a)}else{getBalanceAndFormat(b)}})}function getBalanceAndFormat(g){l.getBalances(g,100,function(a,b){var c={'inputs':[],'totalBalance':0}var d=o?false:true;for(var i=0;i<g.length;i++){var e=parseInt(b.balances[i]);if(e>0){var f={'address':g[i],'balance':e,'keyIndex':m+i}c.inputs.push(f);c.totalBalance+=e;if(o&&c.totalBalance>=o){d=true;break}}}if(d){return k(null,c)}else{return k(new Error("Not enough balance"))}})}}api.prototype.prepareTransfers=function(r,s,t,u){var v=this;if(arguments.length===3&&Object.prototype.toString.call(t)==="[object Function]"){u=t;t={}}if(!N.isTrytes(r)){return u(M.invalidSeed())}s.forEach(function(a){a.message=a.message?a.message:'';a.tag=a.tag?a.tag:'';a.address=S.noChecksum(a.address)})if(!N.isTransfersArray(s)){return u(M.invalidTransfers())}if(t.inputs&&!N.isInputs(t.inputs)){return u(M.invalidInputs())}var w=t.address||null;var x=t.inputs||[];var y=new R();var z=0;var A=[];var B;for(var i=0;i<s.length;i++){var C=1;if(s[i].message.length>2187){C+=Math.floor(s[i].message.length/2187);var D=s[i].message;while(D){var E=D.slice(0,2187);D=D.slice(2187,D.length);for(var j=0;E.length<2187;j++){E+='9'}A.push(E)}}else{var E='';if(s[i].message){E=s[i].message.slice(0,2187)}for(var j=0;E.length<2187;j++){E+='9'}A.push(E)}var F=Math.floor(Date.now()/1000);B=s[i].tag?s[i].tag:'999999999999999999999999999';for(var j=0;B.length<27;j++){B+='9'}y.addEntry(C,s[i].address.slice(0,81),s[i].value,B,F)z+=parseInt(s[i].value)}if(z){if(t.inputs){var G=[];t.inputs.forEach(function(a){G.push(a.address)})v.getBalances(G,100,function(a,b){var c=[];var d=0;for(var i=0;i<b.balances.length;i++){var e=parseInt(b.balances[i]);d+=e;if(e>0){var f=t.inputs[i];f.balance=e;c.push(f)}}if(z>d){return u("Not enough balance")}addRemainder(c)})}else{v.getInputs(r,{'threshold':z},function(a,b){if(!a){addRemainder(b.inputs)}else{return u(a)}})}}else{y.finalize();y.addTrytes(A);var H=[]y.bundle.forEach(function(a){H.push(S.transactionTrytes(a))})return u(null,H.reverse())}function addRemainder(d){var e=z;for(var i=0;i<d.length;i++){var f=d[i].balance;var g=0-f;var h=Math.floor(Date.now()/1000);y.addEntry(2,d[i].address,g,B,h);if(f>=e){var j=f-e;if(j>0&&w){y.addEntry(1,w,j,B,h);signInputsAndReturn(d)}else if(j>0){v.getNewAddress(r,{},function(a,b){var c=Math.floor(Date.now()/1000);y.addEntry(1,b,j,B,c);signInputsAndReturn(d)})}else{signInputsAndReturn(d)}}else{e-=f}}}function signInputsAndReturn(b){y.finalize();y.addTrytes(A);for(var i=0;i<y.bundle.length;i++){if(y.bundle[i].value<0){var c=y.bundle[i].address;var d;for(var k=0;k<b.length;k++){if(b[k].address===c){d=b[k].keyIndex;break}}var e=y.bundle[i].bundle;var f=Q.key(P.trits(r),d,2);var g=f.slice(0,6561);var h=y.normalizedBundle(e);var l=h.slice(0,27);var m=Q.signatureFragment(l,g);y.bundle[i].signatureMessageFragment=P.trytes(m);for(var j=0;j<y.bundle.length;j++){if(y.bundle[j].address===c&&y.bundle[j].value===0){var n=f.slice(6561,2*6561);var o=h.slice(27,27*2);var p=Q.signatureFragment(o,n);y.bundle[j].signatureMessageFragment=P.trytes(p)}}}}var q=[]y.bundle.forEach(function(a){q.push(S.transactionTrytes(a))})return u(null,q.reverse())}}api.prototype.traverseBundle=function(f,g,h,i){var j=this;j.getTrytes(Array(f),function(a,b){if(a)return i(a);var c=b.trytes[0]if(!c)return i(new Error("Bundle transactions not visible"))var d=S.transactionObject(c);if(!d)return i(new Error("Invalid trytes, could not create object"));if(!g&&d.currentIndex!==0){return i(new Error("Invalid tail transaction supplied."))}if(!g){g=d.bundle}if(g!==d.bundle){return i(null,h)}if(d.lastIndex===0&&d.currentIndex===0){return i(null,Array(d))}var e=d.trunkTransaction;h.push(d);return j.traverseBundle(e,g,h,i)})}api.prototype.getBundle=function(o,p){var q=this;q.traverseBundle(o,null,Array(),function(g,h){if(g)return p(g);var j=0,lastIndex,bundleHash=h[0].bundle;var k=[];var l=new O();l.initialize();var m=[];h.forEach(function(a,b){j+=a.value;if(a.currentIndex!==b)return p(new Error("Invalid Bundle"));var c=S.transactionTrytes(a);l.absorb(P.trits(c.slice(2187,2187+162)))if(a.value<0){var d=a.address;var e={'address':d,'signatureFragments':Array(a.signatureMessageFragment)}for(var i=b;i<h.length-1;i++){var f=h[i+1];if(f.address===d&&f.value===0){e.signatureFragments.push(f.signatureMessageFragment)}}m.push(e)}});if(j!==0)return p(new Error("Invalid Bundle Sum"));l.squeeze(k);var k=P.trytes(k);if(k!==bundleHash)return p(new Error("Invalid Bundle Hash"));if(h[h.length-1].currentIndex!==h[h.length-1].lastIndex)return p(new Error("Invalid Bundle"));for(var i=0;i<m.length;i++){var n=Q.validateSignatures(m[i].address,m[i].signatureFragments,bundleHash);if(!n)return p(new Error("Invalid Signatures!"))}return p(null,h)})}api.prototype._bundlesFromAddresses=function(r,s,t){var u=this;u.findTransactionObjects({'addresses':r},function(n,o){if(n)return t(n);var p=new Set();var q=new Set();o.forEach(function(a){if(!p.has(a.hash)&&!q.has(a.bundle)){p.add(a.hash);q.add(a.bundle)}})u.findTransactionObjects({'bundles':Array.from(q)},function(i,j){if(i)return t(i);var k=[];var l=Array.from(p);var m=Array.from(q);T.waterfall([function(c){if(s){u.getLatestInclusion(l,function(a,b){if(a)return t(a);c(null,b.states)})}else{c(null,[])}},function(g,h){T.mapSeries(m,function(c,d){if(s){var e=g[m.indexOf(c)];var f=[];j.forEach(function(a){if(a.bundle==c){f.push(a);a['persistence']=e}})f.sort(function(a,b){var x=a.currentIndex;var y=b.currentIndex;return((x<y)?-1:((x>y)?1:0))})k.push(f)}d(null,true)},function(c,d){k.sort(function(a,b){var x=parseInt(a[0]['timestamp']);var y=parseInt(b[0]['timestamp']);return((x<y)?-1:((x>y)?1:0))});return t(c,k)})}])})})}api.prototype.getTransfers=function(c,d,e){var f=this;if(arguments.length===2&&Object.prototype.toString.call(d)==="[object Function]"){e=d;d={}}var g=d.start||0;var h=d.end||null;var i=d.inclusionStates||null;if(g>h||h>(g+500)){return e(new Error("Invalid inputs provided"))}var j={index:g,total:h?h-g:null,returnAll:true}f.getNewAddress(c,j,function(a,b){if(a)return e(a);return f._bundlesFromAddresses(b,i,e)})}api.prototype.getAccountData=function(h,i,j){var k=this;if(arguments.length===2&&Object.prototype.toString.call(i)==="[object Function]"){j=i;i={}}var l=i.start||0;var m=i.end||null;if(l>m||m>(l+500)){return j(new Error("Invalid inputs provided"))}var n={'addresses':[],'transfers':[],'balance':0}var o={index:l,total:m?m-l:null,returnAll:true}k.getNewAddress(h,o,function(f,g){if(f)return j(f);n.addresses=g.slice(0,-1);k._bundlesFromAddresses(g,true,function(d,e){if(d)return j(d);n.transfers=e;k.getBalances(n.addresses,100,function(b,c){c.balances.forEach(function(a){n.balance+=parseInt(a)})return j(null,n)})})})}api.prototype.readMessage=function(a,b){if(a.hash){}if(data.transactions.length<2){processedTxs+=1;return}}J.exports=api},{"../crypto/bundle":4,"../crypto/converter":5,"../crypto/curl":6,"../crypto/signing":7,"../errors/inputErrors":8,"../utils/inputValidator":13,"../utils/utils":15,"./apiCommands":3,"async":16}],3:[function(f,g,h){var i=function(a,b,c,d){var e={'command':'attachToMesh','trunkTransaction':a,'branchTransaction':b,'minWeightMagnitude':c,'trytes':d}return e}var j=function(b){var c={'command':'findTransactions'}var d=Object.keys(b);d.forEach(function(a){c[a]=b[a]})return c}var k=function(a,b){var c={'command':'getBalances','addresses':a,'threshold':b}return c}var l=function(a,b){var c={'command':'getInclusionStates','transactions':a,'tips':b}return c}var m=function(a){var b={'command':'ping'}return b}var n=function(){var a={'command':'getNodeInfo'}return a}var o=function(){var a={'command':'getPeerAddresses'}return a}var p=function(a,b){var c={'command':'addPeer','uri':a,'type':b}return c}var q=function(){var a={'command':'getTips'}return a}var r=function(a){var b={'command':'getTransactionsToApprove','depth':a}return b}var s=function(a){var b={'command':'getTrytes','hashes':a}return b}var t=function(){var a={'command':'interruptAttachingToMesh'}return a}var u=function(a){var b={'command':'broadcastTransactions','trytes':a}return b}var v=function(a){var b={'command':'storeTransactions','trytes':a}return b}g.exports={ping:m,attachToMesh:i,findTransactions:j,getBalances:k,getInclusionStates:l,getNodeInfo:n,getPeerAddresses:o,addPeer:p,getTips:q,getTransactionsToApprove:r,getTrytes:s,interruptAttachingToMesh:t,broadcastTransactions:u,storeTransactions:v}},{}],4:[function(g,h,k){var l=g("./curl");var m=g("./converter");function Bundle(){this.bundle=[]}Bundle.prototype.addEntry=function(a,b,c,d,e){for(var i=0;i<a;i++){var f=new Object();f.address=b;f.value=i==0?c:0;f.tag=d;f.timestamp=e;this.bundle[this.bundle.length]=f}}Bundle.prototype.addTrytes=function(a){var b;var c='';var d='999999999999999999999999999999999999999999999999999999999999999999999999999999999';for(var j=0;c.length<2187;j++){c+='9'}for(var i=0;i<this.bundle.length;i++){this.bundle[i].signatureMessageFragment=a[i]?a[i]:c;this.bundle[i].trunkTransaction=d;this.bundle[i].branchTransaction=d;this.bundle[i].nonce=d}}Bundle.prototype.finalize=function(){var a=new l();a.initialize();for(var i=0;i<this.bundle.length;i++){var b=m.trits(this.bundle[i].value);while(b.length<81){b[b.length]=0}var c=m.trits(this.bundle[i].timestamp);while(c.length<27){c[c.length]=0}var d=m.trits(this.bundle[i].currentIndex=i);while(d.length<27){d[d.length]=0}var e=m.trits(this.bundle[i].lastIndex=this.bundle.length-1);while(e.length<27){e[e.length]=0}a.absorb(m.trits(this.bundle[i].address+m.trytes(b)+this.bundle[i].tag+m.trytes(c)+m.trytes(d)+m.trytes(e)))}var f=[];a.squeeze(f);f=m.trytes(f);for(var i=0;i<this.bundle.length;i++){this.bundle[i].bundle=f}}Bundle.prototype.normalizedBundle=function(a){var b=[];for(var i=0;i<3;i++){var c=0;for(var j=0;j<27;j++){c+=(b[i*27+j]=m.value(m.trits(a.charAt(i*27+j))))}if(c>=0){while(c-->0){for(var j=0;j<27;j++){if(b[i*27+j]>-13){b[i*27+j]--;break}}}}else{while(c++<0){for(var j=0;j<27;j++){if(b[i*27+j]<13){b[i*27+j]++;break}}}}}return b}h.exports=Bundle},{"./converter":5,"./curl":6}],5:[function(g,h,k){var l="9ABCDEFGHIJKLMNOPQRSTUVWXYZ"var m=[[0,0,0],[1,0,0],[-1,1,0],[0,1,0],[1,1,0],[-1,-1,1],[0,-1,1],[1,-1,1],[-1,0,1],[0,0,1],[1,0,1],[-1,1,1],[0,1,1],[1,1,1],[-1,-1,-1],[0,-1,-1],[1,-1,-1],[-1,0,-1],[0,0,-1],[1,0,-1],[-1,1,-1],[0,1,-1],[1,1,-1],[-1,-1,0],[0,-1,0],[1,-1,0],[-1,0,0]];var n=function(a,b){var c=b||[];if(Number.isInteger(a)){var d=a<0?-a:a;while(d>0){var e=d%3;d=Math.floor(d/3);if(e>1){e=-1;d++}c[c.length]=e}if(a<0){for(var i=0;i<c.length;i++){c[i]=-c[i]}}}else{for(var i=0;i<a.length;i++){var f=l.indexOf(a.charAt(i));c[i*3]=m[f][0];c[i*3+1]=m[f][1];c[i*3+2]=m[f][2]}}return c}var o=function(a){var b="";for(var i=0;i<a.length;i+=3){for(var j=0;j<l.length;j++){if(m[j][0]==a[i]&&m[j][1]==a[i+1]&&m[j][2]==a[i+2]){b+=l.charAt(j);break}}}return b}var p=function(a){var b=0;for(var i=a.length;i-->0;){b=b*3+a[i]}return b}h.exports={trits:n,trytes:o,value:p}},{}],6:[function(c,d,e){var f=c("./converter");function Curl(){this.truthTable=[1,0,-1,1,-1,0,-1,1,0]}Curl.prototype.initialize=function(a){if(a&&a.length===729){this.state=a}else{this.state=[];for(var i=0;i<729;i++){this.state[i]=0}}}Curl.prototype.absorb=function(a){for(var i=0;i<a.length;){var j=0;while(i<a.length&&j<243){this.state[j++]=a[i++]}this.transform(this.state)}}Curl.prototype.squeeze=function(a){for(var i=0;i<243;i++){a[i]=this.state[i]}this.transform(this.state)}Curl.prototype.transform=function(){var a=[],index=0;for(var b=0;b<27;b++){a=this.state.slice();for(var i=0;i<729;i++){this.state[i]=this.truthTable[a[index]+a[index+=(index<365?364:-365)]*3+4]}}}d.exports=Curl},{"./converter":5}],7:[function(m,n,o){var p=m("./curl");var q=m("./converter");var r=m("./bundle");var s=function(a,b,c){var d=a.slice();for(var i=0;i<b;i++){for(var j=0;j<243;j++){if(++d[j]>1){d[j]=-1}else{break}}}var e=new p();e.initialize();e.absorb(d);e.squeeze(d);e.initialize();e.absorb(d);var f=[],offset=0,buffer=[];while(c-->0){for(var i=0;i<27;i++){e.squeeze(buffer);for(var j=0;j<243;j++){f[offset++]=buffer[j]}}}return f}var t=function(a){var b=[],buffer=[];for(var i=0;i<Math.floor(a.length/6561);i++){var c=a.slice(i*6561,(i+1)*6561);for(var j=0;j<27;j++){buffer=c.slice(j*243,(j+1)*243);for(var k=0;k<26;k++){var d=new p()d.initialize();d.absorb(buffer);d.squeeze(buffer)}for(var k=0;k<243;k++){c[j*243+k]=buffer[k]}}var e=new p()e.initialize();e.absorb(c);e.squeeze(buffer);for(var j=0;j<243;j++){b[i*243+j]=buffer[j]}}return b}var u=function(a){var b=[];var c=new p();c.initialize();c.absorb(a);c.squeeze(b);return b}var v=function(a,b){var c=[]var d=new p()d.initialize();for(var i=0;i<27;i++){c=b.slice(i*243,(i+1)*243);for(var j=a[i]+13;j-->0;){var e=new p();e.initialize();e.absorb(c);e.squeeze(c)}d.absorb(c)}d.squeeze(c);return c}var w=function(a,b){var c=b.slice(),hash=[];var d=new p();for(var i=0;i<27;i++){hash=c.slice(i*243,(i+1)*243);for(var j=0;j<13-a[i];j++){d.initialize();d.absorb(hash);d.squeeze(hash)}for(var j=0;j<243;j++){c[i*243+j]=hash[j]}}return c}var x=function(a,b,c){var d=this;var e=new r();var f=[];var g=e.normalizedBundle(c);for(var i=0;i<3;i++){f[i]=g.slice(i*27,(i+1)*27)}var h=[];for(var i=0;i<b.length;i++){var k=v(f[i%3],q.trits(b[i]));for(var j=0;j<243;j++){h[i*243+j]=k[j]}}var l=q.trytes(d.address(h));return(a===l)}n.exports={key:s,digests:t,address:u,digest:v,signatureFragment:w,validateSignatures:x}},{"./bundle":4,"./converter":5,"./curl":6}],8:[function(b,c,d){c.exports={invalidTrytes:function(){return new Error("Invalid Trytes provided")},invalidSeed:function(){return new Error("Invalid Seed provided")},invalidAttachedTrytes:function(){return new Error("Invalid attached Trytes provided")},invalidTransfers:function(){return new Error("Invalid transfers object")},invalidKey:function(){return new Error("You have provided an invalid key value")},invalidTrunkOrBranch:function(a){return new Error("You have provided an invalid hash as a trunk/branch: "+a)},notInt:function(){return new Error("One of your inputs is not an integer")},invalidInputs:function(){return new Error("Invalid inputs provided")}}},{}],9:[function(b,c,d){c.exports={invalidResponse:function(a){return new Error("Invalid Response: "+a)},noConnection:function(a){return new Error("No connection to host: "+a)},requestError:function(a){return new Error("Request Error: "+a)}}},{}],10:[function(b,c,d){var e=b("./utils/utils");var f=b('./utils/makeRequest');var g=b("./api/api");var h=b('./multisig/multisig');function aidos(a){a=a||{};this.host=a.host?a.host:"http://localhost";this.port=a.port?a.port:14265;this.provider=a.provider||this.host+":"+this.port;this._makeRequest=new f(this.provider);this.api=new g(this._makeRequest);this.utils=e;this.validate=b("./utils/inputValidator");this.multisig=new h(this._makeRequest)}aidos.prototype.changeNode=function(a){a=a||{};this.host=a.host?a.host:"http://localhost";this.port=a.port?a.port:14265;this.provider=a.provider||this.host+":"+this.port;this._makeRequest.setProvider(this.provider)};c.exports=aidos},{"./api/api":2,"./multisig/multisig":11,"./utils/inputValidator":13,"./utils/makeRequest":14,"./utils/utils":15}],11:[function(x,y,z){var A=x('../crypto/signing');var B=x('../crypto/converter');var C=x('../crypto/curl');var D=x('../crypto/bundle');var E=x('../utils/utils');var F=x('../utils/inputValidator');var G=x('../errors/inputErrors');function Multisig(a){this._makeRequest=a}Multisig.prototype.getKey=function(a,b){return B.trytes(A.key(B.trits(a),b,2))}Multisig.prototype.getDigest=function(a,b){var c=A.key(B.trits(a),b,2);return B.trytes(A.digests(c))}Multisig.prototype.addAddressDigest=function(a,b){var c=B.trits(a);var d=b?B.trits(b):[];var e=new C();e.initialize(d);e.absorb(c);return B.trytes(e.state)}Multisig.prototype.finalizeAddress=function(a){var b=B.trits(a);var c=new C();c.initialize(b);var d=[];c.squeeze(d);return B.trytes(d)}Multisig.prototype.validateAddress=function(b,c){var d=new C();d.initialize();c.forEach(function(a){d.absorb(B.trits(a))})var e=[];d.squeeze(e);return B.trytes(e)===b}Multisig.prototype.initiateTransfer=function(g,h,k,l,m){var n=this;l.forEach(function(a){a.message=a.message?a.message:'';a.tag=a.tag?a.tag:'';a.address=E.noChecksum(a.address)})if(!F.isTransfersArray(l)){return m(G.invalidTransfers())}if(!F.isAddress(g)){return m(G.invalidInputs())}if(!F.isAddress(h)){return m(G.invalidTrytes())}var o=new D();var p=0;var q=[];var r;for(var i=0;i<l.length;i++){var s=1;if(l[i].message.length>2187){s+=Math.floor(l[i].message.length/2187);var t=l[i].message;while(t){var u=t.slice(0,2187);t=t.slice(2187,t.length);for(var j=0;u.length<2187;j++){u+='9'}q.push(u)}}else{var u='';if(l[i].message){u=l[i].message.slice(0,2187)}for(var j=0;u.length<2187;j++){u+='9'}q.push(u)}var v=Math.floor(Date.now()/1000);r=l[i].tag?l[i].tag:'999999999999999999999999999';for(var j=0;r.length<27;j++){r+='9'}o.addEntry(s,l[i].address.slice(0,81),l[i].value,r,v)p+=parseInt(l[i].value)}if(p){var w={'command':'getBalances','addresses':Array(g),'threshold':100}n._makeRequest.send(w,function(e,a){var b=parseInt(a.balances[0]);if(b>0){var c=0-b;var d=Math.floor(Date.now()/1000);o.addEntry(2,g,c,r,d);for(var i=1;i<k;i++){o.addEntry(2,g,0,r,d)}if(b>p){var f=b-p;o.addEntry(1,h,f,r,d)}o.finalize();o.addTrytes(q);return m(null,o.bundle)}else{throw new Error("Not enough balance");}})}else{throw new Error("Invalid value transfer: the transfer does not require a signature.");}}Multisig.prototype.addSignature=function(a,b,c,d,e){var f=new D();f.bundle=a;var d=B.trits(d);for(var i=0;i<f.bundle.length;i++){if(f.bundle[i].value<0&&f.bundle[i].address===c){var g=i+(b*2);var h=f.bundle[g].address;var j=f.bundle[g].bundle;var k=d.slice(0,6561);var l=f.normalizedBundle(j);var m=[];for(var i=0;i<3;i++){m[i]=l.slice(i*27,(i+1)*27)}var n=m[(b*2)%3];var o=A.signatureFragment(n,k);f.bundle[g].signatureMessageFragment=B.trytes(o);if(f.bundle[g+1].address===c&&f.bundle[g+1].value===0){var p=d.slice(6561,2*6561);var q=m[(b*2+1)%3];var r=A.signatureFragment(q,p);f.bundle[g+1].signatureMessageFragment=B.trytes(r);break}}}return e(null,f.bundle)}Multisig.prototype.validateSignatures=function(a,b,c){var d;var e=[];for(var i=0;i<a.length;i++){if(a[i].value<0&&a[i].address===b){d=a[i].bundle;for(var j=0;j<c*2;j++){e.push(a[j+i].signatureMessageFragment)}break}}return A.validateSignatures(b,e,d)}y.exports=Multisig},{"../crypto/bundle":4,"../crypto/converter":5,"../crypto/curl":6,"../crypto/signing":7,"../errors/inputErrors":8,"../utils/inputValidator":13,"../utils/utils":15}],12:[function(j,k,l){function toTrytes(a){var b="9ABCDEFGHIJKLMNOPQRSTUVWXYZ";var c="";for(var i=0;i<a.length;i++){var d=a[i];var e=d.charCodeAt(0);if(e>255){e=32}var f=e%27;var g=(e-f)/27;var h=b[f]+b[g];c+=h}return c}function fromTrytes(a){var b="9ABCDEFGHIJKLMNOPQRSTUVWXYZ";var c="";for(var i=0;i<a.length;i+=2){var d=a[i]+a[i+1];var e=b.indexOf(d[0]);var f=b.indexOf(d[1]);var g=e+f*27;var h=String.fromCharCode(g);c+=h}return c}k.exports={toTrytes:toTrytes,fromTrytes:fromTrytes}},{}],13:[function(g,h,j){var k=function(a){if(a.length===90){if(!l(a,90)){return false}}else{if(!l(a,81)){return false}}return true}var l=function(a,b){if(!b)b="0,"var c=new RegExp("^[9A-Z]{"+b+"}$");return c.test(a)&&u(a)}var m=function(a){return/^[0-9]+$/.test(a)&&v(a)}var n=function(a){return/^(\d+\.?\d{0,9}|\.\d{0,9})$/.test(a)}var o=function(a){if(!l(a,81)){return false}return true}var p=function(a){if(!w(a))return false;for(var i=0;i<a.length;i++){var b=a[i];var c=b.address;if(!k(c)){return false}var d=b.value;if(!m(d)){return false}var e=b.message;if(!l(e,"0,")){return false}var f=b.tag;if(!l(f,"0,27")){return false}}return true}var q=function(a){if(!w(a))return false;for(var i=0;i<a.length;i++){var b=a[i];if(b.length===90){if(!l(b,90)){return false}}else{if(!l(b,81)){return false}}}return true}var r=function(a){if(!w(a))return false;for(var i=0;i<a.length;i++){var b=a[i];if(!l(b,2673)){return false}}return true}var s=function(a){if(!w(a))return false;for(var i=0;i<a.length;i++){var b=a[i];if(!l(b,2673)){return false}var c=b.slice(2673-(3*81));if(/^[9]+$/.test(c)){return false}}return true}var t=function(a){if(!w(a))return false;for(var i=0;i<a.length;i++){var b=a[i];if(!b.hasOwnProperty('keyIndex')||!b.hasOwnProperty('address'))return false;if(!k(address)){return false}}return true}var u=function(a){return typeof a==='string'}var v=function(a){return typeof a==='number'}var w=function(a){return a instanceof Array}var x=function(a){return typeof a==='object'}var y=function(a){var b=/^tcp:\/\/([\[][^\]\.]*[\]]|[^\[\]:]*)[:]{0,1}([0-9]{1,}$|$)/i;var c=/[\[]{0,1}([^\[\]]*)[\]]{0,1}/;var d=/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))|(^\s*((?=.{1,255}$)(?=.*[A-Za-z].*)[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?)*)\s*$)/;if(!b.test(a)){return false}return d.test(c.exec(b.exec(a)[1])[1])}h.exports={isAddress:k,isTrytes:l,isValue:m,isDecimal:n,isHash:o,isTransfersArray:p,isArrayOfHashes:q,isArrayOfTrytes:r,isArrayOfAttachedTrytes:s,isInputs:t,isString:u,isInt:v,isArray:w,isObject:x,isUri:y}},{}],14:[function(f,g,h){var i=f("xmlhttprequest").XMLHttpRequest;var j=f("../errors/requestErrors");function makeRequest(a){this.provider=a||"http://localhost:14265"}makeRequest.prototype.setProvider=function(a){this.provider=a||"http://localhost:14265"}makeRequest.prototype.open=function(){var a=new i();a.open('POST',this.provider,true);return a}makeRequest.prototype.send=function(b,c){var d=this;var e=this.open();e.onreadystatechange=function(){if(e.readyState===4){var a=e.responseText;return d.prepareResult(a,c)}}try{e.send(JSON.stringify(b))}catch(error){c(j.noConnection(d.provider))}}makeRequest.prototype.prepareResult=function(a,b){var c;try{a=JSON.parse(a)}catch(e){c=j.invalidResponse(a);a=null}if(!c&&a.error){c=j.requestError(a.error);a=null}if(!c&&a.exception){c=j.requestError(a.exception);a=null}return b(c,a)}g.exports=makeRequest},{"../errors/requestErrors":9,"xmlhttprequest":52}],15:[function(j,k,l){var m=j("./inputValidator");var n=j("./makeRequest");var o=j("../crypto/curl");var p=j("../crypto/converter");var q=j("./asciiToTrytes");var r={'u ADK':0.000001*100000000,'m ADK':0.001*100000000,'ADK':1*100000000,'M ADK':1000000*100000000}var s=function(a,b,c){if(!m.isDecimal(a)){throw new Error("Invalid value input");}if(r[b]===undefined||r[c]===undefined){throw new Error("Invalid unit provided");}var d=parseFloat(a);var e=(d*r[b])/r[c];return e}var t=function(d){var e=m.isString(d)if(e)d=Array(d);var f=[];d.forEach(function(a){if(a.length!==81)throw new Error("Invalid address input");var b=new o();b.initialize();b.state=p.trits(a,b.state);b.transform();var c=p.trytes(b.state).substring(0,9);f.push(a+c)});if(e){return f[0]}else{return f}}var u=function(b){var c=m.isString(b)if(c)b=Array(b);var d=[];b.forEach(function(a){d.push(a.slice(0,81))})if(c){return d[0]}else{return d}}var v=function(a){var b=u(a);var c=t(b);return c===a}var w=function(a,b){if(b==="ascii"){return q.toTrytes(trytes)}}var x=function(a,b){if(b==="ascii"){return q.fromTrytes(a)}}var y=function(a){if(!a)return for(var i=2279;i<2295;i++){if(a.charAt(i)!=="9"){return null}}var b=new Object();var c=p.trits(a);var d=[];var e=new o();e.initialize();e.absorb(c);e.squeeze(d);b.hash=p.trytes(d);b.signatureMessageFragment=a.slice(0,2187);b.address=a.slice(2187,2268);b.value=p.value(c.slice(6804,6837));b.tag=a.slice(2295,2322);b.timestamp=p.value(c.slice(6966,6993));b.currentIndex=p.value(c.slice(6993,7020));b.lastIndex=p.value(c.slice(7020,7047));b.bundle=a.slice(2349,2430);b.trunkTransaction=a.slice(2430,2511);b.branchTransaction=a.slice(2511,2592);b.nonce=a.slice(2592,2673);return b}var z=function(a){var b=p.trits(a.value);while(b.length<81){b[b.length]=0}var c=p.trits(a.timestamp);while(c.length<27){c[c.length]=0}var d=p.trits(a.currentIndex);while(d.length<27){d[d.length]=0}var e=p.trits(a.lastIndex);while(e.length<27){e[e.length]=0}return a.signatureMessageFragment+a.address+p.trytes(b)+a.tag+p.trytes(c)+p.trytes(d)+p.trytes(e)+a.bundle+a.trunkTransaction+a.branchTransaction+a.nonce}var A=function(f,g){var h={'sent':[],'received':[]}f.forEach(function(d){var e=false;d.forEach(function(a,b){if(g.indexOf(a.address)>-1){var c=(a.currentIndex===a.lastIndex)&&a.lastIndex!==0;if(a.value<0&&!e&&!c){h.sent.push(d);e=true}else if(a.value>=0&&!e&&!c){h.received.push(d)}}})})return h}k.exports={convertUnits:s,addChecksum:t,noChecksum:u,isValidChecksum:v,toTrytes:w,fromTrytes:x,transactionObject:y,transactionTrytes:z,categorizeTransfers:A}},{"../crypto/converter":5,"../crypto/curl":6,"./asciiToTrytes":12,"./inputValidator":13,"./makeRequest":14}],16:[function(ba,bb,bc){(function(dC,dD){(function(a,b){typeof bc==='object'&&typeof bb!=='undefined'?b(bc):typeof define==='function'&&define.amd?define(['exports'],b):(b((a.async=a.async||{})))}(this,(function(z){'use strict';function apply(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}var A=Math.max;function overRest$1(c,d,e){d=A(d===undefined?(c.length-1):d,0);return function(){var a=arguments,dG=-1,length=A(a.length-d,0),array=Array(length);while(++dG<length){array[dG]=a[d+dG]}dG=-1;var b=Array(d+1);while(++dG<d){b[dG]=a[dG]}b[d]=e(array);return apply(c,this,b)}}function identity(a){return a}function rest(a,b){return overRest$1(a,b,identity)}var B=function(c){return rest(function(a){var b=a.pop();c.call(this,a,b)})};function applyEach$1(i){return rest(function(f,g){var h=B(function(c,d){var e=this;return i(f,function(a,b){a.apply(e,c.concat([b]))},d)});if(g.length){return h.apply(this,g)}else{return h}})}var C=typeof dD=='object'&&dD&&dD.Object===Object&&dD;var D=typeof self=='object'&&self&&self.Object===Object&&self;var E=C||D||Function('return this')();var F=E.Symbol;var G=Object.prototype;var hasOwnProperty=G.hasOwnProperty;var H=G.toString;var I=F?F.toStringTag:undefined;function getRawTag(a){var b=hasOwnProperty.call(a,I),tag=a[I];try{a[I]=undefined;var c=true}catch(e){}var d=H.call(a);if(c){if(b){a[I]=tag}else{delete a[I]}}return d}var J=Object.prototype;var K=J.toString;function objectToString(a){return K.call(a)}var L='[object Null]';var M='[object Undefined]';var N=F?F.toStringTag:undefined;function baseGetTag(a){if(a==null){return a===undefined?M:L}a=Object(a);return(N&&N in a)?getRawTag(a):objectToString(a)}function isObject(a){var b=typeof a;return a!=null&&(b=='object'||b=='function')}var O='[object AsyncFunction]';var P='[object Function]';var Q='[object GeneratorFunction]';var R='[object Proxy]';function isFunction(a){if(!isObject(a)){return false}var b=baseGetTag(a);return b==P||b==Q||b==O||b==R}var S=9007199254740991;function isLength(a){return typeof a=='number'&&a>-1&&a%1==0&&a<=S}function isArrayLike(a){return a!=null&&isLength(a.length)&&!isFunction(a)}function noop(){}function once(b){return function(){if(b===null)return;var a=b;b=null;a.apply(this,arguments)}}var T=typeof Symbol==='function'&&Symbol.iterator;var U=function(a){return T&&a[T]&&a[T]()};function baseTimes(n,a){var b=-1,result=Array(n);while(++b<n){result[b]=a(b)}return result}function isObjectLike(a){return a!=null&&typeof a=='object'}var V='[object Arguments]';function baseIsArguments(a){return isObjectLike(a)&&baseGetTag(a)==V}var W=Object.prototype;var X=W.hasOwnProperty;var propertyIsEnumerable=W.propertyIsEnumerable;var Y=baseIsArguments(function(){return arguments}())?baseIsArguments:function(a){return isObjectLike(a)&&X.call(a,'callee')&&!propertyIsEnumerable.call(a,'callee')};var Z=Array.isArray;function stubFalse(){return false}var bd=typeof z=='object'&&z&&!z.nodeType&&z;var be=bd&&typeof bb=='object'&&bb&&!bb.nodeType&&bb;var bf=be&&be.exports===bd;var bg=bf?E.Buffer:undefined;var bh=bg?bg.isBuffer:undefined;var bi=bh||stubFalse;var bj=9007199254740991;var bk=/^(?:0|[1-9]\d*)$/;function isIndex(a,b){b=b==null?bj:b;return!!b&&(typeof a=='number'||bk.test(a))&&(a>-1&&a%1==0&&a<b)}var bl='[object Arguments]';var bm='[object Array]';var bn='[object Boolean]';var bo='[object Date]';var bp='[object Error]';var bq='[object Function]';var br='[object Map]';var bs='[object Number]';var bt='[object Object]';var bu='[object RegExp]';var bv='[object Set]';var bw='[object String]';var bx='[object WeakMap]';var by='[object ArrayBuffer]';var bz='[object DataView]';var bA='[object Float32Array]';var bB='[object Float64Array]';var bC='[object Int8Array]';var bD='[object Int16Array]';var bE='[object Int32Array]';var bF='[object Uint8Array]';var bG='[object Uint8ClampedArray]';var bH='[object Uint16Array]';var bI='[object Uint32Array]';var bJ={};bJ[bA]=bJ[bB]=bJ[bC]=bJ[bD]=bJ[bE]=bJ[bF]=bJ[bG]=bJ[bH]=bJ[bI]=true;bJ[bl]=bJ[bm]=bJ[by]=bJ[bn]=bJ[bz]=bJ[bo]=bJ[bp]=bJ[bq]=bJ[br]=bJ[bs]=bJ[bt]=bJ[bu]=bJ[bv]=bJ[bw]=bJ[bx]=false;function baseIsTypedArray(a){return isObjectLike(a)&&isLength(a.length)&&!!bJ[baseGetTag(a)]}function baseUnary(b){return function(a){return b(a)}}var bK=typeof z=='object'&&z&&!z.nodeType&&z;var bL=bK&&typeof bb=='object'&&bb&&!bb.nodeType&&bb;var bM=bL&&bL.exports===bK;var bN=bM&&C.process;var bO=(function(){try{return bN&&bN.binding('util')}catch(e){}}());var bP=bO&&bO.isTypedArray;var bQ=bP?baseUnary(bP):baseIsTypedArray;var bR=Object.prototype;var bS=bR.hasOwnProperty;function arrayLikeKeys(a,b){var c=Z(a),isArg=!c&&Y(a),isBuff=!c&&!isArg&&bi(a),isType=!c&&!isArg&&!isBuff&&bQ(a),skipIndexes=c||isArg||isBuff||isType,result=skipIndexes?baseTimes(a.length,String):[],length=result.length;for(var d in a){if((b||bS.call(a,d))&&!(skipIndexes&&(d=='length'||(isBuff&&(d=='offset'||d=='parent'))||(isType&&(d=='buffer'||d=='byteLength'||d=='byteOffset'))||isIndex(d,length)))){result.push(d)}}return result}var bT=Object.prototype;function isPrototype(a){var b=a&&a.constructor,proto=(typeof b=='function'&&b.prototype)||bT;return a===proto}function overArg(b,c){return function(a){return b(c(a))}}var bU=overArg(Object.keys,Object);var bV=Object.prototype;var bW=bV.hasOwnProperty;function baseKeys(a){if(!isPrototype(a)){return bU(a)}var b=[];for(var c in Object(a)){if(bW.call(a,c)&&c!='constructor'){b.push(c)}}return b}function keys(a){return isArrayLike(a)?arrayLikeKeys(a):baseKeys(a)}function createArrayIterator(a){var i=-1;var b=a.length;return function next(){return++i<b?{value:a[i],key:i}:null}}function createES2015Iterator(b){var i=-1;return function next(){var a=b.next();if(a.done)return null;i++;return{value:a.value,key:i}}}function createObjectIterator(b){var c=keys(b);var i=-1;var d=c.length;return function next(){var a=c[++i];return i<d?{value:b[a],key:a}:null}}function b(a){if(isArrayLike(a)){return createArrayIterator(a)}var b=U(a);return b?createES2015Iterator(b):createObjectIterator(a)}function onlyOnce(b){return function(){if(b===null)throw new Error("Callback was already called.");var a=b;b=null;a.apply(this,arguments)}}var bX={};function _eachOfLimit(i){return function(c,d,e){e=once(e||noop);if(i<=0||!c){return e(null)}var f=iterator(c);var g=false;var h=0;function iterateeCallback(a,b){h-=1;if(a){g=true;e(a)}else if(b===bX||g&&h<=0){g=true;return e(null)}else{replenish()}}function replenish(){while(h<i&&!g){var a=f();if(a===null){g=true;if(h<=0){e(null)}return}h+=1;d(a.value,a.key,onlyOnce(iterateeCallback))}}replenish()}}function eachOfLimit(a,b,c,d){_eachOfLimit(b)(a,c,d)}function doLimit(d,e){return function(a,b,c){return d(a,e,b,c)}}function eachOfArrayLike(b,c,d){d=once(d||noop);var e=0,completed=0,length=b.length;if(length===0){d(null)}function iteratorCallback(a){if(a){d(a)}else if(++completed===length){d(null)}}for(;e<length;e++){c(b[e],e,onlyOnce(iteratorCallback))}}var bY=doLimit(eachOfLimit,Infinity);var bZ=function(a,b,c){var d=isArrayLike(a)?eachOfArrayLike:bY;d(a,b,c)};function doParallel(d){return function(a,b,c){return d(bZ,a,b,c)}}function _asyncMap(e,f,g,h){h=h||noop;f=f||[];var i=[];var j=0;e(f,function(b,_,c){var d=j++;g(b,function(a,v){i[d]=v;c(a)})},function(a){h(a,i)})}var ca=doParallel(_asyncMap);var cb=applyEach$1(ca);function doParallelLimit(e){return function(a,b,c,d){return e(_eachOfLimit(b),a,c,d)}}var cc=doParallelLimit(_asyncMap);var cd=doLimit(cc,1);var ce=applyEach$1(cd);var cf=rest(function(b,c){return rest(function(a){return b.apply(null,c.concat(a))})});function asyncify(f){return B(function(b,c){var d;try{d=f.apply(this,b)}catch(e){return c(e)}if(isObject(d)&&typeof d.then==='function'){d.then(function(a){c(null,a)},function(a){c(a.message?a:new Error(a))})}else{c(null,d)}})}function arrayEach(a,b){var c=-1,length=a==null?0:a.length;while(++c<length){if(b(a[c],c,a)===false){break}}return a}function createBaseFor(f){return function(a,b,c){var d=-1,iterable=Object(a),props=c(a),length=props.length;while(length--){var e=props[f?length:++d];if(b(iterable[e],e,iterable)===false){break}}return a}}var cg=createBaseFor();function baseForOwn(a,b){return a&&cg(a,b,keys)}function baseFindIndex(a,b,c,d){var e=a.length,dG=c+(d?1:-1);while((d?dG--:++dG<e)){if(b(a[dG],dG,a)){return dG}}return-1}function baseIsNaN(a){return a!==a}function strictIndexOf(a,b,c){var d=c-1,length=a.length;while(++d<length){if(a[d]===b){return d}}return-1}function baseIndexOf(a,b,c){return b===b?strictIndexOf(a,b,c):baseFindIndex(a,baseIsNaN,c)}var ch=function(j,k,l){if(typeof k==='function'){l=k;k=null}l=once(l||noop);var m=keys(j);var n=m.length;if(!n){return l(null)}if(!k){k=n}var o={};var p=0;var q=false;var r={};var s=[];var t=[];var u={};baseForOwn(j,function(b,c){if(!Z(b)){enqueueTask(c,[b]);t.push(c);return}var d=b.slice(0,b.length-1);var e=d.length;if(e===0){enqueueTask(c,b);t.push(c);return}u[c]=e;arrayEach(d,function(a){if(!j[a]){throw new Error('async.auto task `'+c+'` has a non-existent dependency in '+d.join(', '));}addListener(a,function(){e--;if(e===0){enqueueTask(c,b)}})})});checkForDeadlocks();processQueue();function enqueueTask(a,b){s.push(function(){runTask(a,b)})}function processQueue(){if(s.length===0&&p===0){return l(null,o)}while(s.length&&p<k){var a=s.shift();a()}}function addListener(a,b){var c=r[a];if(!c){c=r[a]=[]}c.push(b)}function taskComplete(b){var c=r[b]||[];arrayEach(c,function(a){a()});processQueue()}function runTask(f,g){if(q)return;var h=onlyOnce(rest(function(c,d){p--;if(d.length<=1){d=d[0]}if(c){var e={};baseForOwn(o,function(a,b){e[b]=a});e[f]=d;q=true;r=[];l(c,e)}else{o[f]=d;taskComplete(f)}}));p++;var i=g[g.length-1];if(g.length>1){i(o,h)}else{i(h)}}function checkForDeadlocks(){var b;var c=0;while(t.length){b=t.pop();c++;arrayEach(getDependents(b),function(a){if(--u[a]===0){t.push(a)}})}if(c!==n){throw new Error('async.auto cannot execute tasks due to a recursive dependency');}}function getDependents(c){var d=[];baseForOwn(j,function(a,b){if(Z(a)&&baseIndexOf(a,c,0)>=0){d.push(b)}});return d}};function arrayMap(a,b){var c=-1,length=a==null?0:a.length,result=Array(length);while(++c<length){result[c]=b(a[c],c,a)}return result}var ci='[object Symbol]';function isSymbol(a){return typeof a=='symbol'||(isObjectLike(a)&&baseGetTag(a)==ci)}var cj=1/0;var ck=F?F.prototype:undefined;var cl=ck?ck.toString:undefined;function baseToString(a){if(typeof a=='string'){return a}if(Z(a)){return arrayMap(a,baseToString)+''}if(isSymbol(a)){return cl?cl.call(a):''}var b=(a+'');return(b=='0'&&(1/a)==-cj)?'-0':b}function baseSlice(a,b,c){var d=-1,length=a.length;if(b<0){b=-b>length?0:(length+b)}c=c>length?length:c;if(c<0){c+=length}length=b>c?0:((c-b)>>>0);b>>>=0;var e=Array(length);while(++d<length){e[d]=a[d+b]}return e}function castSlice(a,b,c){var d=a.length;c=c===undefined?d:c;return(!b&&c>=d)?a:baseSlice(a,b,c)}function charsEndIndex(a,b){var c=a.length;while(c--&&baseIndexOf(b,a[c],0)>-1){}return c}function charsStartIndex(a,b){var c=-1,length=a.length;while(++c<length&&baseIndexOf(b,a[c],0)>-1){}return c}function asciiToArray(a){return a.split('')}var cm='\\ud800-\\udfff';var cn='\\u0300-\\u036f\\ufe20-\\ufe23';var co='\\u20d0-\\u20f0';var cp='\\ufe0e\\ufe0f';var cq='\\u200d';var cr=RegExp('['+cq+cm+cn+co+cp+']');function hasUnicode(a){return cr.test(a)}var cs='\\ud800-\\udfff';var ct='\\u0300-\\u036f\\ufe20-\\ufe23';var cu='\\u20d0-\\u20f0';var cv='\\ufe0e\\ufe0f';var cw='['+cs+']';var cx='['+ct+cu+']';var cy='\\ud83c[\\udffb-\\udfff]';var cz='(?:'+cx+'|'+cy+')';var cA='[^'+cs+']';var cB='(?:\\ud83c[\\udde6-\\uddff]){2}';var cC='[\\ud800-\\udbff][\\udc00-\\udfff]';var cD='\\u200d';var cE=cz+'?';var cF='['+cv+']?';var cG='(?:'+cD+'(?:'+[cA,cB,cC].join('|')+')'+cF+cE+')*';var cH=cF+cE+cG;var cI='(?:'+[cA+cx+'?',cx,cB,cC,cw].join('|')+')';var cJ=RegExp(cy+'(?='+cy+')|'+cI+cH,'g');function unicodeToArray(a){return a.match(cJ)||[]}function stringToArray(a){return hasUnicode(a)?unicodeToArray(a):asciiToArray(a)}function toString(a){return a==null?'':baseToString(a)}var cK=/^\s+|\s+$/g;function trim(a,b,c){a=toString(a);if(a&&(c||b===undefined)){return a.replace(cK,'')}if(!a||!(b=baseToString(b))){return a}var d=stringToArray(a),chrSymbols=stringToArray(b),start=charsStartIndex(d,chrSymbols),end=charsEndIndex(d,chrSymbols)+1;return castSlice(d,start,end).join('')}var cL=/^(function)?\s*[^\(]*\(\s*([^\)]*)\)/m;var cM=/,/;var cN=/(=.+)?(\s*)$/;var cO=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;function parseParams(b){b=b.toString().replace(cO,'');b=b.match(cL)[2].replace(' ','');b=b?b.split(cM):[];b=b.map(function(a){return trim(a.replace(cN,''))});return b}function autoInject(h,i){var j={};baseForOwn(h,function(e,f){var g;if(Z(e)){g=e.slice(0,-1);e=e[e.length-1];j[f]=g.concat(g.length>0?newTask:e)}else if(e.length===1){j[f]=e}else{g=parseParams(e);if(e.length===0&&g.length===0){throw new Error("autoInject task functions require explicit parameters.");}g.pop();j[f]=g.concat(newTask)}function newTask(b,c){var d=arrayMap(g,function(a){return b[a]});d.push(c);e.apply(null,d)}});ch(j,i)}var cP=typeof setImmediate==='function'&&setImmediate;var cQ=typeof dC==='object'&&typeof dC.nextTick==='function';function fallback(a){setTimeout(a,0)}function wrap(c){return rest(function(a,b){c(function(){a.apply(null,b)})})}var cR;if(cP){cR=setImmediate}else if(cQ){cR=dC.nextTick}else{cR=fallback}var cS=wrap(cR);function DLL(){this.head=this.tail=null;this.length=0}function setInitial(a,b){a.length=1;a.head=a.tail=b}DLL.prototype.removeLink=function(a){if(a.prev)a.prev.next=a.next;else this.head=a.next;if(a.next)a.next.prev=a.prev;else this.tail=a.prev;a.prev=a.next=null;this.length-=1;return a};DLL.prototype.empty=DLL;DLL.prototype.insertAfter=function(a,b){b.prev=a;b.next=a.next;if(a.next)a.next.prev=b;else this.tail=b;a.next=b;this.length+=1};DLL.prototype.insertBefore=function(a,b){b.prev=a.prev;b.next=a;if(a.prev)a.prev.next=b;else this.head=b;a.prev=b;this.length+=1};DLL.prototype.unshift=function(a){if(this.head)this.insertBefore(this.head,a);else setInitial(this,a)};DLL.prototype.push=function(a){if(this.tail)this.insertAfter(this.tail,a);else setInitial(this,a)};DLL.prototype.shift=function(){return this.head&&this.removeLink(this.head)};DLL.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};function queue(e,f,g){if(f==null){f=1}else if(f===0){throw new Error('Concurrency must not be zero');}function _insert(a,b,c){if(c!=null&&typeof c!=='function'){throw new Error('task callback must be a function');}q.started=true;if(!Z(a)){a=[a]}if(a.length===0&&q.idle()){return cS(function(){q.drain()})}for(var i=0,l=a.length;i<l;i++){var d={data:a[i],callback:c||noop};if(b){q._tasks.unshift(d)}else{q._tasks.push(d)}}cS(q.process)}function _next(d){return rest(function(a){h-=1;for(var i=0,l=d.length;i<l;i++){var b=d[i];var c=baseIndexOf(j,b,0);if(c>=0){j.splice(c)}b.callback.apply(b,a);if(a[0]!=null){q.error(a[0],b.data)}}if(h<=q.concurrency-q.buffer){q.unsaturated()}if(q.idle()){q.drain()}q.process()})}var h=0;var j=[];var q={_tasks:new DLL(),concurrency:f,payload:g,saturated:noop,unsaturated:noop,buffer:f/4,empty:noop,drain:noop,error:noop,started:false,paused:false,push:function(a,b){_insert(a,false,b)},kill:function(){q.drain=noop;q._tasks.empty()},unshift:function(a,b){_insert(a,true,b)},process:function(){while(!q.paused&&h<q.concurrency&&q._tasks.length){var a=[],data=[];var l=q._tasks.length;if(q.payload)l=Math.min(l,q.payload);for(var i=0;i<l;i++){var b=q._tasks.shift();a.push(b);data.push(b.data)}if(q._tasks.length===0){q.empty()}h+=1;j.push(a[0]);if(h===q.concurrency){q.saturated()}var c=onlyOnce(_next(a));e(data,c)}},length:function(){return q._tasks.length},running:function(){return h},workersList:function(){return j},idle:function(){return q._tasks.length+h===0},pause:function(){q.paused=true},resume:function(){if(q.paused===false){return}q.paused=false;var a=Math.min(q.concurrency,q._tasks.length);for(var w=1;w<=a;w++){cS(q.process)}}};return q}function cargo(a,b){return queue(a,1,b)}var cT=doLimit(eachOfLimit,1);function reduce(c,d,e,f){f=once(f||noop);cT(c,function(x,i,b){e(d,x,function(a,v){d=v;b(a)})},function(a){f(a,d)})}var cU=rest(function seq(i){return rest(function(f){var g=this;var h=f[f.length-1];if(typeof h=='function'){f.pop()}else{h=noop}reduce(i,f,function(c,d,e){d.apply(g,c.concat([rest(function(a,b){e(a,b)})]))},function(a,b){h.apply(g,[a].concat(b))})})});var cV=rest(function(a){return cU.apply(null,a.reverse())});function concat$1(d,e,f,g){var h=[];d(e,function(x,b,c){f(x,function(a,y){h=h.concat(y||[]);c(a)})},function(a){g(a,h)})}var cW=doParallel(concat$1);function doSeries(d){return function(a,b,c){return d(cT,a,b,c)}}var cX=doSeries(concat$1);var cY=rest(function(c){var d=[null].concat(c);return B(function(a,b){return b.apply(this,d)})});function _createTester(g,h,i){return function(c,d,e,f){function done(){if(f){f(null,i(false))}}function wrappedIteratee(x,_,b){if(!f)return b();e(x,function(a,v){if(f&&(a||h(v))){if(a)f(a);else f(a,i(true,x));f=e=false;b(a,bX)}else{b()}})}if(arguments.length>3){f=f||noop;g(c,d,wrappedIteratee,done)}else{f=e;f=f||noop;e=d;g(c,wrappedIteratee,done)}}}function _findGetResult(v,x){return x}var cZ=_createTester(bZ,identity,_findGetResult);var da=_createTester(eachOfLimit,identity,_findGetResult);var db=_createTester(cT,identity,_findGetResult);function consoleFunc(e){return rest(function(c,d){c.apply(null,d.concat([rest(function(a,b){if(typeof console==='object'){if(a){if(console.error){console.error(a)}}else if(console[e]){arrayEach(b,function(x){console[e](x)})}}})]))})}var dc=consoleFunc('dir');function doDuring(c,d,e){e=onlyOnce(e||noop);var f=rest(function(a,b){if(a)return e(a);b.push(check);d.apply(this,b)});function check(a,b){if(a)return e(a);if(!b)return e(null);c(f)}check(null,true)}function doWhilst(c,d,e){e=onlyOnce(e||noop);var f=rest(function(a,b){if(a)return e(a);if(d.apply(this,b))return c(f);e.apply(null,[null].concat(b))});c(f)}function doUntil(a,b,c){doWhilst(a,function(){return!b.apply(this,arguments)},c)}function during(c,d,e){e=onlyOnce(e||noop);function next(a){if(a)return e(a);c(check)}function check(a,b){if(a)return e(a);if(!b)return e(null);d(next)}c(check)}function _withoutIndex(d){return function(a,b,c){return d(a,c)}}function eachLimit(a,b,c){bZ(a,_withoutIndex(b),c)}function eachLimit$1(a,b,c,d){_eachOfLimit(b)(a,_withoutIndex(c),d)}var dd=doLimit(eachLimit$1,1);function ensureAsync(e){return B(function(b,c){var d=true;b.push(function(){var a=arguments;if(d){cS(function(){c.apply(null,a)})}else{c.apply(null,a)}});e.apply(this,b);d=false})}function notId(v){return!v}var de=_createTester(bZ,notId,notId);var df=_createTester(eachOfLimit,notId,notId);var dg=doLimit(df,1);function baseProperty(b){return function(a){return a==null?undefined:a[b]}}function filterArray(d,e,f,g){var h=new Array(e.length);d(e,function(x,b,c){f(x,function(a,v){h[b]=!!v;c(a)})},function(a){if(a)return g(a);var b=[];for(var i=0;i<e.length;i++){if(h[i])b.push(e[i])}g(null,b)})}function filterGeneric(d,e,f,g){var h=[];d(e,function(x,b,c){f(x,function(a,v){if(a){c(a)}else{if(v){h.push({index:b,value:x})}c()}})},function(c){if(c){g(c)}else{g(null,arrayMap(h.sort(function(a,b){return a.index-b.index}),baseProperty('value')))}})}function _filter(a,b,c,d){var e=isArrayLike(b)?filterArray:filterGeneric;e(a,b,c,d||noop)}var dh=doParallel(_filter);var di=doParallelLimit(_filter);var dj=doLimit(di,1);function forever(b,c){var d=onlyOnce(c||noop);var e=ensureAsync(b);function next(a){if(a)return d(a);e(next)}next()}var dk=consoleFunc('log');function mapValuesLimit(f,g,h,i){i=once(i||noop);var j={};eachOfLimit(f,g,function(c,d,e){h(c,d,function(a,b){if(a)return e(a);j[d]=b;e()})},function(a){i(a,j)})}var dl=doLimit(mapValuesLimit,Infinity);var dm=doLimit(mapValuesLimit,1);function has(a,b){return b in a}function memoize(e,f){var g=Object.create(null);var h=Object.create(null);f=f||identity;var j=B(function j(b,c){var d=f.apply(null,b);if(has(g,d)){cS(function(){c.apply(null,g[d])})}else if(has(h,d)){h[d].push(c)}else{h[d]=[c];e.apply(null,b.concat([rest(function(a){g[d]=a;var q=h[d];delete h[d];for(var i=0,l=q.length;i<l;i++){q[i].apply(null,a)}})]))}});j.memo=g;j.unmemoized=e;return j}var dn;if(cQ){dn=dC.nextTick}else if(cP){dn=setImmediate}else{dn=fallback}var do=wrap(dn);function _parallel(f,g,h){h=h||noop;var i=isArrayLike(g)?[]:{};f(g,function(c,d,e){c(rest(function(a,b){if(b.length<=1){b=b[0]}i[d]=b;e(a)}))},function(a){h(a,i)})}function parallelLimit(a,b){_parallel(bZ,a,b)}function parallelLimit$1(a,b,c){_parallel(_eachOfLimit(b),a,c)}var dp=function(c,d){return queue(function(a,b){c(a[0],b)},d,1)};var dq=function(f,g){var q=dp(f,g);q.push=function(a,b,c){if(c==null)c=noop;if(typeof c!=='function'){throw new Error('task callback must be a function');}q.started=true;if(!Z(a)){a=[a]}if(a.length===0){return cS(function(){q.drain()})}b=b||0;var d=q._tasks.head;while(d&&b>=d.priority){d=d.next}for(var i=0,l=a.length;i<l;i++){var e={data:a[i],priority:b,callback:c};if(d){q._tasks.insertBefore(d,e)}else{q._tasks.push(e)}}cS(q.process)};delete q.unshift;return q};function race(a,b){b=once(b||noop);if(!Z(a))return b(new TypeError('First argument to race must be an array of functions'));if(!a.length)return b();for(var i=0,l=a.length;i<l;i++){a[i](b)}}var dr=Array.prototype.slice;function reduceRight(a,b,c,d){var e=dr.call(a).reverse();reduce(e,b,c,d)}function reflect(f){return B(function reflectOn(d,e){d.push(rest(function callback(a,b){if(a){e(null,{error:a})}else{var c=null;if(b.length===1){c=b[0]}else if(b.length>1){c=b}e(null,{value:c})}}));return f.apply(this,d)})}function reject$1(d,e,f,g){_filter(d,e,function(b,c){f(b,function(a,v){c(a,!v)})},g)}var ds=doParallel(reject$1);function reflectAll(c){var d;if(Z(c)){d=arrayMap(c,reflect)}else{d={};baseForOwn(c,function(a,b){d[b]=reflect.call(this,a)})}return d}var dt=doParallelLimit(reject$1);var du=doLimit(dt,1);function constant$1(a){return function(){return a}}function retry(b,c,d){var e=5;var f=0;var g={times:e,intervalFunc:constant$1(f)};function parseTimes(a,t){if(typeof t==='object'){a.times=+t.times||e;a.intervalFunc=typeof t.interval==='function'?t.interval:constant$1(+t.interval||f);a.errorFilter=t.errorFilter}else if(typeof t==='number'||typeof t==='string'){a.times=+t||e}else{throw new Error("Invalid arguments for async.retry");}}if(arguments.length<3&&typeof b==='function'){d=c||noop;c=b}else{parseTimes(g,b);d=d||noop}if(typeof c!=='function'){throw new Error("Invalid arguments for async.retry");}var h=1;function retryAttempt(){c(function(a){if(a&&h++<g.times&&(typeof g.errorFilter!='function'||g.errorFilter(a))){setTimeout(retryAttempt,g.intervalFunc(h))}else{d.apply(null,arguments)}})}retryAttempt()}var dv=function(d,e){if(!e){e=d;d=null}return B(function(b,c){function taskFn(a){e.apply(null,b.concat([a]))}if(d)retry(d,taskFn,c);else retry(taskFn,c)})};function series(a,b){_parallel(cT,a,b)}var dw=_createTester(bZ,Boolean,identity);var dx=_createTester(eachOfLimit,Boolean,identity);var dy=doLimit(dx,1);function sortBy(e,f,g){ca(e,function(x,c){f(x,function(a,b){if(a)return c(a);c(null,{value:x,criteria:b})})},function(a,b){if(a)return g(a);g(null,arrayMap(b.sort(comparator),baseProperty('value')))});function comparator(c,d){var a=c.criteria,b=d.criteria;return a<b?-1:a>b?1:0}}function timeout(c,d,e){var f,timer;var g=false;function injectedCallback(){if(!g){f.apply(null,arguments);clearTimeout(timer)}}function timeoutCallback(){var a=c.name||'anonymous';var b=new Error('Callback function "'+a+'" timed out.');b.code='ETIMEDOUT';if(e){b.info=e}g=true;f(b)}return B(function(a,b){f=b;timer=setTimeout(timeoutCallback,d);c.apply(null,a.concat(injectedCallback))})}var dz=Math.ceil;var dA=Math.max;function baseRange(a,b,c,d){var e=-1,length=dA(dz((b-a)/(c||1)),0),result=Array(length);while(length--){result[d?length:++e]=a;a+=c}return result}function timeLimit(a,b,c,d){cc(baseRange(0,a,1),b,c,d)}var dB=doLimit(timeLimit,Infinity);var dE=doLimit(timeLimit,1);function transform(b,c,d,e){if(arguments.length===3){e=d;d=c;c=Z(b)?[]:{}}e=once(e||noop);bZ(b,function(v,k,a){d(c,v,k,a)},function(a){e(a,c)})}function unmemoize(a){return function(){return(a.unmemoized||a).apply(null,arguments)}}function whilst(c,d,e){e=onlyOnce(e||noop);if(!c())return e(null);var f=rest(function(a,b){if(a)return e(a);if(c())return d(f);e.apply(null,[null].concat(b))});d(f)}function until(a,b,c){whilst(function(){return!a.apply(this,arguments)},b,c)}var dF=function(f,g){g=once(g||noop);if(!Z(f))return g(new Error('First argument to waterfall must be an array of functions'));if(!f.length)return g();var h=0;function nextTask(c){if(h===f.length){return g.apply(null,[null].concat(c))}var d=onlyOnce(rest(function(a,b){if(a){return g.apply(null,[a].concat(b))}nextTask(b)}));c.push(d);var e=f[h++];e.apply(null,c)}nextTask([])};var dG={applyEach:cb,applyEachSeries:ce,apply:cf,asyncify:asyncify,auto:ch,autoInject:autoInject,cargo:cargo,compose:cV,concat:cW,concatSeries:cX,constant:cY,detect:cZ,detectLimit:da,detectSeries:db,dir:dc,doDuring:doDuring,doUntil:doUntil,doWhilst:doWhilst,during:during,each:eachLimit,eachLimit:eachLimit$1,eachOf:bZ,eachOfLimit:eachOfLimit,eachOfSeries:cT,eachSeries:dd,ensureAsync:ensureAsync,every:de,everyLimit:df,everySeries:dg,filter:dh,filterLimit:di,filterSeries:dj,forever:forever,log:dk,map:ca,mapLimit:cc,mapSeries:cd,mapValues:dl,mapValuesLimit:mapValuesLimit,mapValuesSeries:dm,memoize:memoize,nextTick:do,parallel:parallelLimit,parallelLimit:parallelLimit$1,priorityQueue:dq,queue:dp,race:race,reduce:reduce,reduceRight:reduceRight,reflect:reflect,reflectAll:reflectAll,reject:ds,rejectLimit:dt,rejectSeries:du,retry:retry,retryable:dv,seq:cU,series:series,setImmediate:cS,some:dw,someLimit:dx,someSeries:dy,sortBy:sortBy,timeout:timeout,times:dB,timesLimit:timeLimit,timesSeries:dE,transform:transform,unmemoize:unmemoize,until:until,waterfall:dF,whilst:whilst,all:de,any:dw,forEach:eachLimit,forEachSeries:dd,forEachLimit:eachLimit$1,forEachOf:bZ,forEachOfSeries:cT,forEachOfLimit:eachOfLimit,inject:reduce,foldl:reduce,foldr:reduceRight,select:dh,selectLimit:di,selectSeries:dj,wrapSync:asyncify};z['default']=dG;z.applyEach=cb;z.applyEachSeries=ce;z.apply=cf;z.asyncify=asyncify;z.auto=ch;z.autoInject=autoInject;z.cargo=cargo;z.compose=cV;z.concat=cW;z.concatSeries=cX;z.constant=cY;z.detect=cZ;z.detectLimit=da;z.detectSeries=db;z.dir=dc;z.doDuring=doDuring;z.doUntil=doUntil;z.doWhilst=doWhilst;z.during=during;z.each=eachLimit;z.eachLimit=eachLimit$1;z.eachOf=bZ;z.eachOfLimit=eachOfLimit;z.eachOfSeries=cT;z.eachSeries=dd;z.ensureAsync=ensureAsync;z.every=de;z.everyLimit=df;z.everySeries=dg;z.filter=dh;z.filterLimit=di;z.filterSeries=dj;z.forever=forever;z.log=dk;z.map=ca;z.mapLimit=cc;z.mapSeries=cd;z.mapValues=dl;z.mapValuesLimit=mapValuesLimit;z.mapValuesSeries=dm;z.memoize=memoize;z.nextTick=do;z.parallel=parallelLimit;z.parallelLimit=parallelLimit$1;z.priorityQueue=dq;z.queue=dp;z.race=race;z.reduce=reduce;z.reduceRight=reduceRight;z.reflect=reflect;z.reflectAll=reflectAll;z.reject=ds;z.rejectLimit=dt;z.rejectSeries=du;z.retry=retry;z.retryable=dv;z.seq=cU;z.series=series;z.setImmediate=cS;z.some=dw;z.someLimit=dx;z.someSeries=dy;z.sortBy=sortBy;z.timeout=timeout;z.times=dB;z.timesLimit=timeLimit;z.timesSeries=dE;z.transform=transform;z.unmemoize=unmemoize;z.until=until;z.waterfall=dF;z.whilst=whilst;z.all=de;z.allLimit=df;z.allSeries=dg;z.any=dw;z.anyLimit=dx;z.anySeries=dy;z.find=cZ;z.findLimit=da;z.findSeries=db;z.forEach=eachLimit;z.forEachSeries=dd;z.forEachLimit=eachLimit$1;z.forEachOf=bZ;z.forEachOfSeries=cT;z.forEachOfLimit=eachOfLimit;z.inject=reduce;z.foldl=reduce;z.foldr=reduceRight;z.select=dh;z.selectLimit=di;z.selectSeries=dj;z.wrapSync=asyncify;Object.defineProperty(z,'__esModule',{value:true})})))}).call(this,ba('_process'),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"_process":31}],17:[function(h,k,m){'use strict'exports.byteLength=byteLength m.toByteArray=toByteArray m.fromByteArray=fromByteArray var n=[]var o=[]var p=typeof Uint8Array!=='undefined'?Uint8Array:Array var q='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'for(var i=0,len=q.length;i<len;++i){n[i]=q[i]o[q.charCodeAt(i)]=i}o['-'.charCodeAt(0)]=62 o['_'.charCodeAt(0)]=63 function placeHoldersCount(a){var b=a.length if(b%4>0){throw new Error('Invalid string. Length must be a multiple of 4')}return a[b-2]==='='?2:a[b-1]==='='?1:0}function byteLength(a){return a.length*3/4-placeHoldersCount(a)}function toByteArray(a){var i,j,l,tmp,placeHolders,arr var b=a.length placeHolders=placeHoldersCount(a)arr=new p(b*3/4-placeHolders)l=placeHolders>0?b-4:b var L=0 for(i=0,j=0;i<l;i+=4,j+=3){tmp=(o[a.charCodeAt(i)]<<18)|(o[a.charCodeAt(i+1)]<<12)|(o[a.charCodeAt(i+2)]<<6)|o[a.charCodeAt(i+3)]arr[L++]=(tmp>>16)&0xFF arr[L++]=(tmp>>8)&0xFF arr[L++]=tmp&0xFF}if(placeHolders===2){tmp=(o[a.charCodeAt(i)]<<2)|(o[a.charCodeAt(i+1)]>>4)arr[L++]=tmp&0xFF}else if(placeHolders===1){tmp=(o[a.charCodeAt(i)]<<10)|(o[a.charCodeAt(i+1)]<<4)|(o[a.charCodeAt(i+2)]>>2)arr[L++]=(tmp>>8)&0xFF arr[L++]=tmp&0xFF}return arr}function tripletToBase64(a){return n[a>>18&0x3F]+n[a>>12&0x3F]+n[a>>6&0x3F]+n[a&0x3F]}function encodeChunk(a,b,c){var d var e=[]for(var i=b;i<c;i+=3){d=(a[i]<<16)+(a[i+1]<<8)+(a[i+2])e.push(tripletToBase64(d))}return e.join('')}function fromByteArray(a){var b var c=a.length var d=c%3 var e=''var f=[]var g=16383 for(var i=0,len2=c-d;i<len2;i+=g){f.push(encodeChunk(a,i,(i+g)>len2?len2:(i+g)))}if(d===1){b=a[c-1]e+=n[b>>2]e+=n[(b<<4)&0x3F]e+='=='}else if(d===2){b=(a[c-2]<<8)+(a[c-1])e+=n[b>>10]e+=n[(b>>4)&0x3F]e+=n[(b<<2)&0x3F]e+='='}f.push(e)return f.join('')}},{}],18:[function(a,b,c){},{}],19:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{"dup":18}],20:[function(o,p,q){(function(j){'use strict';var k=o('buffer');var l=k.Buffer;var m=k.SlowBuffer;var n=k.kMaxLength||2147483647;q.alloc=function alloc(a,b,c){if(typeof l.alloc==='function'){return l.alloc(a,b,c)}if(typeof c==='number'){throw new TypeError('encoding must not be number');}if(typeof a!=='number'){throw new TypeError('size must be a number');}if(a>n){throw new RangeError('size is too large');}var d=c;var e=b;if(e===undefined){d=undefined;e=0}var f=new l(a);if(typeof e==='string'){var g=new l(e,d);var h=g.length;var i=-1;while(++i<a){f[i]=g[i%h]}}else{f.fill(e)}return f}q.allocUnsafe=function allocUnsafe(a){if(typeof l.allocUnsafe==='function'){return l.allocUnsafe(a)}if(typeof a!=='number'){throw new TypeError('size must be a number');}if(a>n){throw new RangeError('size is too large');}return new l(a)}q.from=function from(a,b,c){if(typeof l.from==='function'&&(!j.Uint8Array||Uint8Array.from!==l.from)){return l.from(a,b,c)}if(typeof a==='number'){throw new TypeError('"value" argument must not be a number');}if(typeof a==='string'){return new l(a,b)}if(typeof ArrayBuffer!=='undefined'&&a instanceof ArrayBuffer){var d=b;if(arguments.length===1){return new l(a)}if(typeof d==='undefined'){d=0}var e=c;if(typeof e==='undefined'){e=a.byteLength-d}if(d>=a.byteLength){throw new RangeError('\'offset\' is out of bounds');}if(e>a.byteLength-d){throw new RangeError('\'length\' is out of bounds');}return new l(a.slice(d,d+e))}if(l.isBuffer(a)){var f=new l(a.length);a.copy(f,0,0,a.length);return f}if(a){if(Array.isArray(a)||(typeof ArrayBuffer!=='undefined'&&a.buffer instanceof ArrayBuffer)||'length'in a){return new l(a)}if(a.type==='Buffer'&&Array.isArray(a.data)){return new l(a.data)}}throw new TypeError('First argument must be a string, Buffer, '+'ArrayBuffer, Array, or array-like object.');}q.allocUnsafeSlow=function allocUnsafeSlow(a){if(typeof l.allocUnsafeSlow==='function'){return l.allocUnsafeSlow(a)}if(typeof a!=='number'){throw new TypeError('size must be a number');}if(a>=n){throw new RangeError('size is too large');}return new m(a)}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"buffer":21}],21:[function(u,v,w){(function(o){'use strict'var p=u('base64-js')var q=u('ieee754')var r=u('isarray')w.Buffer=Buffer w.SlowBuffer=SlowBuffer w.INSPECT_MAX_BYTES=50 Buffer.TYPED_ARRAY_SUPPORT=o.TYPED_ARRAY_SUPPORT!==undefined?o.TYPED_ARRAY_SUPPORT:typedArraySupport()w.kMaxLength=kMaxLength()function typedArraySupport(){try{var a=new Uint8Array(1)a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}}return a.foo()===42&&typeof a.subarray==='function'&&a.subarray(1,1).byteLength===0}catch(e){return false}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?0x7fffffff:0x3fffffff}function createBuffer(a,b){if(kMaxLength()<b){throw new RangeError('Invalid typed array length')}if(Buffer.TYPED_ARRAY_SUPPORT){a=new Uint8Array(b)a.__proto__=Buffer.prototype}else{if(a===null){a=new Buffer(b)}a.length=b}return a}function Buffer(a,b,c){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer)){return new Buffer(a,b,c)}if(typeof a==='number'){if(typeof b==='string'){throw new Error('If encoding is specified then the first argument must be a string')}return allocUnsafe(this,a)}return from(this,a,b,c)}Buffer.poolSize=8192 Buffer._augment=function(a){a.__proto__=Buffer.prototype return a}function from(a,b,c,d){if(typeof b==='number'){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=='undefined'&&b instanceof ArrayBuffer){return fromArrayBuffer(a,b,c,d)}if(typeof b==='string'){return fromString(a,b,c)}return fromObject(a,b)}Buffer.from=function(a,b,c){return from(null,a,b,c)}if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype Buffer.__proto__=Uint8Array if(typeof Symbol!=='undefined'&&Symbol.species&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true})}}function assertSize(a){if(typeof a!=='number'){throw new TypeError('"size" argument must be a number')}else if(a<0){throw new RangeError('"size" argument must not be negative')}}function alloc(a,b,c,d){assertSize(b)if(b<=0){return createBuffer(a,b)}if(c!==undefined){return typeof d==='string'?createBuffer(a,b).fill(c,d):createBuffer(a,b).fill(c)}return createBuffer(a,b)}Buffer.alloc=function(a,b,c){return alloc(null,a,b,c)}function allocUnsafe(a,b){assertSize(b)a=createBuffer(a,b<0?0:checked(b)|0)if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<b;++i){a[i]=0}}return a}Buffer.allocUnsafe=function(a){return allocUnsafe(null,a)}Buffer.allocUnsafeSlow=function(a){return allocUnsafe(null,a)}function fromString(a,b,c){if(typeof c!=='string'||c===''){c='utf8'}if(!Buffer.isEncoding(c)){throw new TypeError('"encoding" must be a valid string encoding')}var d=byteLength(b,c)|0 a=createBuffer(a,d)var e=a.write(b,c)if(e!==d){a=a.slice(0,e)}return a}function fromArrayLike(a,b){var c=b.length<0?0:checked(b.length)|0 a=createBuffer(a,c)for(var i=0;i<c;i+=1){a[i]=b[i]&255}return a}function fromArrayBuffer(a,b,c,d){b.byteLength if(c<0||b.byteLength<c){throw new RangeError('\'offset\' is out of bounds')}if(b.byteLength<c+(d||0)){throw new RangeError('\'length\' is out of bounds')}if(c===undefined&&d===undefined){b=new Uint8Array(b)}else if(d===undefined){b=new Uint8Array(b,c)}else{b=new Uint8Array(b,c,d)}if(Buffer.TYPED_ARRAY_SUPPORT){a=b a.__proto__=Buffer.prototype}else{a=fromArrayLike(a,b)}return a}function fromObject(a,b){if(Buffer.isBuffer(b)){var c=checked(b.length)|0 a=createBuffer(a,c)if(a.length===0){return a}b.copy(a,0,0,c)return a}if(b){if((typeof ArrayBuffer!=='undefined'&&b.buffer instanceof ArrayBuffer)||'length'in b){if(typeof b.length!=='number'||isnan(b.length)){return createBuffer(a,0)}return fromArrayLike(a,b)}if(b.type==='Buffer'&&r(b.data)){return fromArrayLike(a,b.data)}}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function checked(a){if(a>=kMaxLength()){throw new RangeError('Attempt to allocate Buffer larger than maximum '+'size: 0x'+kMaxLength().toString(16)+' bytes')}return a|0}function SlowBuffer(a){if(+a!=a){a=0}return Buffer.alloc(+a)}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)}Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError('Arguments must be Buffers')}if(a===b)return 0 var x=a.length var y=b.length for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i]y=b[i]break}}if(x<y)return-1 if(y<x)return 1 return 0}Buffer.isEncoding=function isEncoding(a){switch(String(a).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return true default:return false}}Buffer.concat=function concat(a,b){if(!r(a)){throw new TypeError('"list" argument must be an Array of Buffers')}if(a.length===0){return Buffer.alloc(0)}var i if(b===undefined){b=0 for(i=0;i<a.length;++i){b+=a[i].length}}var c=Buffer.allocUnsafe(b)var d=0 for(i=0;i<a.length;++i){var e=a[i]if(!Buffer.isBuffer(e)){throw new TypeError('"list" argument must be an Array of Buffers')}e.copy(c,d)d+=e.length}return c}function byteLength(a,b){if(Buffer.isBuffer(a)){return a.length}if(typeof ArrayBuffer!=='undefined'&&typeof ArrayBuffer.isView==='function'&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer)){return a.byteLength}if(typeof a!=='string'){a=''+a}var c=a.length if(c===0)return 0 var d=false for(;;){switch(b){case'ascii':case'latin1':case'binary':return c case'utf8':case'utf-8':case undefined:return utf8ToBytes(a).length case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return c*2 case'hex':return c>>>1 case'base64':return base64ToBytes(a).length default:if(d)return utf8ToBytes(a).length b=(''+b).toLowerCase()d=true}}}Buffer.byteLength=byteLength function slowToString(a,b,c){var d=false if(b===undefined||b<0){b=0}if(b>this.length){return''}if(c===undefined||c>this.length){c=this.length}if(c<=0){return''}c>>>=0 b>>>=0 if(c<=b){return''}if(!a)a='utf8'while(true){switch(a){case'hex':return hexSlice(this,b,c)case'utf8':case'utf-8':return utf8Slice(this,b,c)case'ascii':return asciiSlice(this,b,c)case'latin1':case'binary':return latin1Slice(this,b,c)case'base64':return base64Slice(this,b,c)case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return utf16leSlice(this,b,c)default:if(d)throw new TypeError('Unknown encoding: '+a)a=(a+'').toLowerCase()d=true}}}Buffer.prototype._isBuffer=true function swap(b,n,m){var i=b[n]b[n]=b[m]b[m]=i}Buffer.prototype.swap16=function swap16(){var a=this.length if(a%2!==0){throw new RangeError('Buffer size must be a multiple of 16-bits')}for(var i=0;i<a;i+=2){swap(this,i,i+1)}return this}Buffer.prototype.swap32=function swap32(){var a=this.length if(a%4!==0){throw new RangeError('Buffer size must be a multiple of 32-bits')}for(var i=0;i<a;i+=4){swap(this,i,i+3)swap(this,i+1,i+2)}return this}Buffer.prototype.swap64=function swap64(){var a=this.length if(a%8!==0){throw new RangeError('Buffer size must be a multiple of 64-bits')}for(var i=0;i<a;i+=8){swap(this,i,i+7)swap(this,i+1,i+6)swap(this,i+2,i+5)swap(this,i+3,i+4)}return this}Buffer.prototype.toString=function toString(){var a=this.length|0 if(a===0)return''if(arguments.length===0)return utf8Slice(this,0,a)return slowToString.apply(this,arguments)}Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError('Argument must be a Buffer')if(this===b)return true return Buffer.compare(this,b)===0}Buffer.prototype.inspect=function inspect(){var a=''var b=w.INSPECT_MAX_BYTES if(this.length>0){a=this.toString('hex',0,b).match(/.{2}/g).join(' ')if(this.length>b)a+=' ... '}return'<Buffer '+a+'>'}Buffer.prototype.compare=function compare(a,b,c,d,e){if(!Buffer.isBuffer(a)){throw new TypeError('Argument must be a Buffer')}if(b===undefined){b=0}if(c===undefined){c=a?a.length:0}if(d===undefined){d=0}if(e===undefined){e=this.length}if(b<0||c>a.length||d<0||e>this.length){throw new RangeError('out of range index')}if(d>=e&&b>=c){return 0}if(d>=e){return-1}if(b>=c){return 1}b>>>=0 c>>>=0 d>>>=0 e>>>=0 if(this===a)return 0 var x=e-d var y=c-b var f=Math.min(x,y)var g=this.slice(d,e)var h=a.slice(b,c)for(var i=0;i<f;++i){if(g[i]!==h[i]){x=g[i]y=h[i]break}}if(x<y)return-1 if(y<x)return 1 return 0}function bidirectionalIndexOf(a,b,c,d,e){if(a.length===0)return-1 if(typeof c==='string'){d=c c=0}else if(c>0x7fffffff){c=0x7fffffff}else if(c<-0x80000000){c=-0x80000000}c=+c if(isNaN(c)){c=e?0:(a.length-1)}if(c<0)c=a.length+c if(c>=a.length){if(e)return-1 else c=a.length-1}else if(c<0){if(e)c=0 else return-1}if(typeof b==='string'){b=Buffer.from(b,d)}if(Buffer.isBuffer(b)){if(b.length===0){return-1}return arrayIndexOf(a,b,c,d,e)}else if(typeof b==='number'){b=b&0xFF if(Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==='function'){if(e){return Uint8Array.prototype.indexOf.call(a,b,c)}else{return Uint8Array.prototype.lastIndexOf.call(a,b,c)}}return arrayIndexOf(a,[b],c,d,e)}throw new TypeError('val must be string, number or Buffer')}function arrayIndexOf(b,c,d,e,f){var g=1 var h=b.length var k=c.length if(e!==undefined){e=String(e).toLowerCase()if(e==='ucs2'||e==='ucs-2'||e==='utf16le'||e==='utf-16le'){if(b.length<2||c.length<2){return-1}g=2 h/=2 k/=2 d/=2}}function read(a,i){if(g===1){return a[i]}else{return a.readUInt16BE(i*g)}}var i if(f){var l=-1 for(i=d;i<h;i++){if(read(b,i)===read(c,l===-1?0:i-l)){if(l===-1)l=i if(i-l+1===k)return l*g}else{if(l!==-1)i-=i-l l=-1}}}else{if(d+k>h)d=h-k for(i=d;i>=0;i--){var m=true for(var j=0;j<k;j++){if(read(b,i+j)!==read(c,j)){m=false break}}if(m)return i}}return-1}Buffer.prototype.includes=function includes(a,b,c){return this.indexOf(a,b,c)!==-1}Buffer.prototype.indexOf=function indexOf(a,b,c){return bidirectionalIndexOf(this,a,b,c,true)}Buffer.prototype.lastIndexOf=function lastIndexOf(a,b,c){return bidirectionalIndexOf(this,a,b,c,false)}function hexWrite(a,b,c,d){c=Number(c)||0 var e=a.length-c if(!d){d=e}else{d=Number(d)if(d>e){d=e}}var f=b.length if(f%2!==0)throw new TypeError('Invalid hex string')if(d>f/2){d=f/2}for(var i=0;i<d;++i){var g=parseInt(b.substr(i*2,2),16)if(isNaN(g))return i a[c+i]=g}return i}function utf8Write(a,b,c,d){return blitBuffer(utf8ToBytes(b,a.length-c),a,c,d)}function asciiWrite(a,b,c,d){return blitBuffer(asciiToBytes(b),a,c,d)}function latin1Write(a,b,c,d){return asciiWrite(a,b,c,d)}function base64Write(a,b,c,d){return blitBuffer(base64ToBytes(b),a,c,d)}function ucs2Write(a,b,c,d){return blitBuffer(utf16leToBytes(b,a.length-c),a,c,d)}Buffer.prototype.write=function write(a,b,c,d){if(b===undefined){d='utf8'length=this.length b=0}else if(c===undefined&&typeof b==='string'){d=b c=this.length b=0}else if(isFinite(b)){b=b|0 if(isFinite(c)){c=c|0 if(d===undefined)d='utf8'}else{d=c c=undefined}}else{throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported')}var e=this.length-b if(c===undefined||c>e)c=e if((a.length>0&&(c<0||b<0))||b>this.length){throw new RangeError('Attempt to write outside buffer bounds')}if(!d)d='utf8'var f=false for(;;){switch(d){case'hex':return hexWrite(this,a,b,c)case'utf8':case'utf-8':return utf8Write(this,a,b,c)case'ascii':return asciiWrite(this,a,b,c)case'latin1':case'binary':return latin1Write(this,a,b,c)case'base64':return base64Write(this,a,b,c)case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return ucs2Write(this,a,b,c)default:if(f)throw new TypeError('Unknown encoding: '+d)d=(''+d).toLowerCase()f=true}}}Buffer.prototype.toJSON=function toJSON(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}}function base64Slice(a,b,c){if(b===0&&c===a.length){return p.fromByteArray(a)}else{return p.fromByteArray(a.slice(b,c))}}function utf8Slice(a,b,c){c=Math.min(a.length,c)var d=[]var i=b while(i<c){var e=a[i]var f=null var g=(e>0xEF)?4:(e>0xDF)?3:(e>0xBF)?2:1 if(i+g<=c){var h,thirdByte,fourthByte,tempCodePoint switch(g){case 1:if(e<0x80){f=e}break case 2:h=a[i+1]if((h&0xC0)===0x80){tempCodePoint=(e&0x1F)<<0x6|(h&0x3F)if(tempCodePoint>0x7F){f=tempCodePoint}}break case 3:h=a[i+1]thirdByte=a[i+2]if((h&0xC0)===0x80&&(thirdByte&0xC0)===0x80){tempCodePoint=(e&0xF)<<0xC|(h&0x3F)<<0x6|(thirdByte&0x3F)if(tempCodePoint>0x7FF&&(tempCodePoint<0xD800||tempCodePoint>0xDFFF)){f=tempCodePoint}}break case 4:h=a[i+1]thirdByte=a[i+2]fourthByte=a[i+3]if((h&0xC0)===0x80&&(thirdByte&0xC0)===0x80&&(fourthByte&0xC0)===0x80){tempCodePoint=(e&0xF)<<0x12|(h&0x3F)<<0xC|(thirdByte&0x3F)<<0x6|(fourthByte&0x3F)if(tempCodePoint>0xFFFF&&tempCodePoint<0x110000){f=tempCodePoint}}}}if(f===null){f=0xFFFD g=1}else if(f>0xFFFF){f-=0x10000 d.push(f>>>10&0x3FF|0xD800)f=0xDC00|f&0x3FF}d.push(f)i+=g}return decodeCodePointsArray(d)}var s=0x1000 function decodeCodePointsArray(a){var b=a.length if(b<=s){return String.fromCharCode.apply(String,a)}var c=''var i=0 while(i<b){c+=String.fromCharCode.apply(String,a.slice(i,i+=s))}return c}function asciiSlice(a,b,c){var d=''end=Math.min(a.length,c)for(var i=b;i<c;++i){d+=String.fromCharCode(a[i]&0x7F)}return d}function latin1Slice(a,b,c){var d=''end=Math.min(a.length,c)for(var i=b;i<c;++i){d+=String.fromCharCode(a[i])}return d}function hexSlice(a,b,c){var d=a.length if(!b||b<0)b=0 if(!c||c<0||c>d)c=d var e=''for(var i=b;i<c;++i){e+=toHex(a[i])}return e}function utf16leSlice(a,b,c){var d=a.slice(b,c)var e=''for(var i=0;i<d.length;i+=2){e+=String.fromCharCode(d[i]+d[i+1]*256)}return e}Buffer.prototype.slice=function slice(a,b){var c=this.length a=~~a b=b===undefined?c:~~b if(a<0){a+=c if(a<0)a=0}else if(a>c){a=c}if(b<0){b+=c if(b<0)b=0}else if(b>c){b=c}if(b<a)b=a var d if(Buffer.TYPED_ARRAY_SUPPORT){d=this.subarray(a,b)d.__proto__=Buffer.prototype}else{var e=b-a d=new Buffer(e,undefined)for(var i=0;i<e;++i){d[i]=this[i+a]}}return d}function checkOffset(a,b,c){if((a%1)!==0||a<0)throw new RangeError('offset is not uint')if(a+b>c)throw new RangeError('Trying to access beyond buffer length')}Buffer.prototype.readUIntLE=function readUIntLE(a,b,c){a=a|0 b=b|0 if(!c)checkOffset(a,b,this.length)var d=this[a]var e=1 var i=0 while(++i<b&&(e*=0x100)){d+=this[a+i]*e}return d}Buffer.prototype.readUIntBE=function readUIntBE(a,b,c){a=a|0 b=b|0 if(!c){checkOffset(a,b,this.length)}var d=this[a+ --b]var e=1 while(b>0&&(e*=0x100)){d+=this[a+ --b]*e}return d}Buffer.prototype.readUInt8=function readUInt8(a,b){if(!b)checkOffset(a,1,this.length)return this[a]}Buffer.prototype.readUInt16LE=function readUInt16LE(a,b){if(!b)checkOffset(a,2,this.length)return this[a]|(this[a+1]<<8)}Buffer.prototype.readUInt16BE=function readUInt16BE(a,b){if(!b)checkOffset(a,2,this.length)return(this[a]<<8)|this[a+1]}Buffer.prototype.readUInt32LE=function readUInt32LE(a,b){if(!b)checkOffset(a,4,this.length)return((this[a])|(this[a+1]<<8)|(this[a+2]<<16))+(this[a+3]*0x1000000)}Buffer.prototype.readUInt32BE=function readUInt32BE(a,b){if(!b)checkOffset(a,4,this.length)return(this[a]*0x1000000)+((this[a+1]<<16)|(this[a+2]<<8)|this[a+3])}Buffer.prototype.readIntLE=function readIntLE(a,b,c){a=a|0 b=b|0 if(!c)checkOffset(a,b,this.length)var d=this[a]var e=1 var i=0 while(++i<b&&(e*=0x100)){d+=this[a+i]*e}e*=0x80 if(d>=e)d-=Math.pow(2,8*b)return d}Buffer.prototype.readIntBE=function readIntBE(a,b,c){a=a|0 b=b|0 if(!c)checkOffset(a,b,this.length)var i=b var d=1 var e=this[a+ --i]while(i>0&&(d*=0x100)){e+=this[a+ --i]*d}d*=0x80 if(e>=d)e-=Math.pow(2,8*b)return e}Buffer.prototype.readInt8=function readInt8(a,b){if(!b)checkOffset(a,1,this.length)if(!(this[a]&0x80))return(this[a])return((0xff-this[a]+1)*-1)}Buffer.prototype.readInt16LE=function readInt16LE(a,b){if(!b)checkOffset(a,2,this.length)var c=this[a]|(this[a+1]<<8)return(c&0x8000)?c|0xFFFF0000:c}Buffer.prototype.readInt16BE=function readInt16BE(a,b){if(!b)checkOffset(a,2,this.length)var c=this[a+1]|(this[a]<<8)return(c&0x8000)?c|0xFFFF0000:c}Buffer.prototype.readInt32LE=function readInt32LE(a,b){if(!b)checkOffset(a,4,this.length)return(this[a])|(this[a+1]<<8)|(this[a+2]<<16)|(this[a+3]<<24)}Buffer.prototype.readInt32BE=function readInt32BE(a,b){if(!b)checkOffset(a,4,this.length)return(this[a]<<24)|(this[a+1]<<16)|(this[a+2]<<8)|(this[a+3])}Buffer.prototype.readFloatLE=function readFloatLE(a,b){if(!b)checkOffset(a,4,this.length)return q.read(this,a,true,23,4)}Buffer.prototype.readFloatBE=function readFloatBE(a,b){if(!b)checkOffset(a,4,this.length)return q.read(this,a,false,23,4)}Buffer.prototype.readDoubleLE=function readDoubleLE(a,b){if(!b)checkOffset(a,8,this.length)return q.read(this,a,true,52,8)}Buffer.prototype.readDoubleBE=function readDoubleBE(a,b){if(!b)checkOffset(a,8,this.length)return q.read(this,a,false,52,8)}function checkInt(a,b,c,d,e,f){if(!Buffer.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance')if(b>e||b<f)throw new RangeError('"value" argument is out of bounds')if(c+d>a.length)throw new RangeError('Index out of range')}Buffer.prototype.writeUIntLE=function writeUIntLE(a,b,c,d){a=+a b=b|0 c=c|0 if(!d){var e=Math.pow(2,8*c)-1 checkInt(this,a,b,c,e,0)}var f=1 var i=0 this[b]=a&0xFF while(++i<c&&(f*=0x100)){this[b+i]=(a/f)&0xFF}return b+c}Buffer.prototype.writeUIntBE=function writeUIntBE(a,b,c,d){a=+a b=b|0 c=c|0 if(!d){var e=Math.pow(2,8*c)-1 checkInt(this,a,b,c,e,0)}var i=c-1 var f=1 this[b+i]=a&0xFF while(--i>=0&&(f*=0x100)){this[b+i]=(a/f)&0xFF}return b+c}Buffer.prototype.writeUInt8=function writeUInt8(a,b,c){a=+a b=b|0 if(!c)checkInt(this,a,b,1,0xff,0)if(!Buffer.TYPED_ARRAY_SUPPORT)a=Math.floor(a)this[b]=(a&0xff)return b+1}function objectWriteUInt16(a,b,c,d){if(b<0)b=0xffff+b+1 for(var i=0,j=Math.min(a.length-c,2);i<j;++i){a[c+i]=(b&(0xff<<(8*(d?i:1-i))))>>>(d?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(a,b,c){a=+a b=b|0 if(!c)checkInt(this,a,b,2,0xffff,0)if(Buffer.TYPED_ARRAY_SUPPORT){this[b]=(a&0xff)this[b+1]=(a>>>8)}else{objectWriteUInt16(this,a,b,true)}return b+2}Buffer.prototype.writeUInt16BE=function writeUInt16BE(a,b,c){a=+a b=b|0 if(!c)checkInt(this,a,b,2,0xffff,0)if(Buffer.TYPED_ARRAY_SUPPORT){this[b]=(a>>>8)this[b+1]=(a&0xff)}else{objectWriteUInt16(this,a,b,false)}return b+2}function objectWriteUInt32(a,b,c,d){if(b<0)b=0xffffffff+b+1 for(var i=0,j=Math.min(a.length-c,4);i<j;++i){a[c+i]=(b>>>(d?i:3-i)*8)&0xff}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(a,b,c){a=+a b=b|0 if(!c)checkInt(this,a,b,4,0xffffffff,0)if(Buffer.TYPED_ARRAY_SUPPORT){this[b+3]=(a>>>24)this[b+2]=(a>>>16)this[b+1]=(a>>>8)this[b]=(a&0xff)}else{objectWriteUInt32(this,a,b,true)}return b+4}Buffer.prototype.writeUInt32BE=function writeUInt32BE(a,b,c){a=+a b=b|0 if(!c)checkInt(this,a,b,4,0xffffffff,0)if(Buffer.TYPED_ARRAY_SUPPORT){this[b]=(a>>>24)this[b+1]=(a>>>16)this[b+2]=(a>>>8)this[b+3]=(a&0xff)}else{objectWriteUInt32(this,a,b,false)}return b+4}Buffer.prototype.writeIntLE=function writeIntLE(a,b,c,d){a=+a b=b|0 if(!d){var e=Math.pow(2,8*c-1)checkInt(this,a,b,c,e-1,-e)}var i=0 var f=1 var g=0 this[b]=a&0xFF while(++i<c&&(f*=0x100)){if(a<0&&g===0&&this[b+i-1]!==0){g=1}this[b+i]=((a/f)>>0)-g&0xFF}return b+c}Buffer.prototype.writeIntBE=function writeIntBE(a,b,c,d){a=+a b=b|0 if(!d){var e=Math.pow(2,8*c-1)checkInt(this,a,b,c,e-1,-e)}var i=c-1 var f=1 var g=0 this[b+i]=a&0xFF while(--i>=0&&(f*=0x100)){if(a<0&&g===0&&this[b+i+1]!==0){g=1}this[b+i]=((a/f)>>0)-g&0xFF}return b+c}Buffer.prototype.writeInt8=function writeInt8(a,b,c){a=+a b=b|0 if(!c)checkInt(this,a,b,1,0x7f,-0x80)if(!Buffer.TYPED_ARRAY_SUPPORT)a=Math.floor(a)if(a<0)a=0xff+a+1 this[b]=(a&0xff)return b+1}Buffer.prototype.writeInt16LE=function writeInt16LE(a,b,c){a=+a b=b|0 if(!c)checkInt(this,a,b,2,0x7fff,-0x8000)if(Buffer.TYPED_ARRAY_SUPPORT){this[b]=(a&0xff)this[b+1]=(a>>>8)}else{objectWriteUInt16(this,a,b,true)}return b+2}Buffer.prototype.writeInt16BE=function writeInt16BE(a,b,c){a=+a b=b|0 if(!c)checkInt(this,a,b,2,0x7fff,-0x8000)if(Buffer.TYPED_ARRAY_SUPPORT){this[b]=(a>>>8)this[b+1]=(a&0xff)}else{objectWriteUInt16(this,a,b,false)}return b+2}Buffer.prototype.writeInt32LE=function writeInt32LE(a,b,c){a=+a b=b|0 if(!c)checkInt(this,a,b,4,0x7fffffff,-0x80000000)if(Buffer.TYPED_ARRAY_SUPPORT){this[b]=(a&0xff)this[b+1]=(a>>>8)this[b+2]=(a>>>16)this[b+3]=(a>>>24)}else{objectWriteUInt32(this,a,b,true)}return b+4}Buffer.prototype.writeInt32BE=function writeInt32BE(a,b,c){a=+a b=b|0 if(!c)checkInt(this,a,b,4,0x7fffffff,-0x80000000)if(a<0)a=0xffffffff+a+1 if(Buffer.TYPED_ARRAY_SUPPORT){this[b]=(a>>>24)this[b+1]=(a>>>16)this[b+2]=(a>>>8)this[b+3]=(a&0xff)}else{objectWriteUInt32(this,a,b,false)}return b+4}function checkIEEE754(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError('Index out of range')if(c<0)throw new RangeError('Index out of range')}function writeFloat(a,b,c,d,e){if(!e){checkIEEE754(a,b,c,4,3.4028234663852886e+38,-3.4028234663852886e+38)}q.write(a,b,c,d,23,4)return c+4}Buffer.prototype.writeFloatLE=function writeFloatLE(a,b,c){return writeFloat(this,a,b,true,c)}Buffer.prototype.writeFloatBE=function writeFloatBE(a,b,c){return writeFloat(this,a,b,false,c)}function writeDouble(a,b,c,d,e){if(!e){checkIEEE754(a,b,c,8,1.7976931348623157E+308,-1.7976931348623157E+308)}q.write(a,b,c,d,52,8)return c+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(a,b,c){return writeDouble(this,a,b,true,c)}Buffer.prototype.writeDoubleBE=function writeDoubleBE(a,b,c){return writeDouble(this,a,b,false,c)}Buffer.prototype.copy=function copy(a,b,c,d){if(!c)c=0 if(!d&&d!==0)d=this.length if(b>=a.length)b=a.length if(!b)b=0 if(d>0&&d<c)d=c if(d===c)return 0 if(a.length===0||this.length===0)return 0 if(b<0){throw new RangeError('targetStart out of bounds')}if(c<0||c>=this.length)throw new RangeError('sourceStart out of bounds')if(d<0)throw new RangeError('sourceEnd out of bounds')if(d>this.length)d=this.length if(a.length-b<d-c){d=a.length-b+c}var e=d-c var i if(this===a&&c<b&&b<d){for(i=e-1;i>=0;--i){a[i+b]=this[i+c]}}else if(e<1000||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<e;++i){a[i+b]=this[i+c]}}else{Uint8Array.prototype.set.call(a,this.subarray(c,c+e),b)}return e}Buffer.prototype.fill=function fill(a,b,c,d){if(typeof a==='string'){if(typeof b==='string'){d=b b=0 c=this.length}else if(typeof c==='string'){d=c c=this.length}if(a.length===1){var e=a.charCodeAt(0)if(e<256){a=e}}if(d!==undefined&&typeof d!=='string'){throw new TypeError('encoding must be a string')}if(typeof d==='string'&&!Buffer.isEncoding(d)){throw new TypeError('Unknown encoding: '+d)}}else if(typeof a==='number'){a=a&255}if(b<0||this.length<b||this.length<c){throw new RangeError('Out of range index')}if(c<=b){return this}b=b>>>0 c=c===undefined?this.length:c>>>0 if(!a)a=0 var i if(typeof a==='number'){for(i=b;i<c;++i){this[i]=a}}else{var f=Buffer.isBuffer(a)?a:utf8ToBytes(new Buffer(a,d).toString())var g=f.length for(i=0;i<c-b;++i){this[i+b]=f[i%g]}}return this}var t=/[^+\/0-9A-Za-z-_]/g function base64clean(a){a=stringtrim(a).replace(t,'')if(a.length<2)return''while(a.length%4!==0){a=a+'='}return a}function stringtrim(a){if(a.trim)return a.trim()return a.replace(/^\s+|\s+$/g,'')}function toHex(n){if(n<16)return'0'+n.toString(16)return n.toString(16)}function utf8ToBytes(a,b){b=b||Infinity var c var d=a.length var e=null var f=[]for(var i=0;i<d;++i){c=a.charCodeAt(i)if(c>0xD7FF&&c<0xE000){if(!e){if(c>0xDBFF){if((b-=3)>-1)f.push(0xEF,0xBF,0xBD)continue}else if(i+1===d){if((b-=3)>-1)f.push(0xEF,0xBF,0xBD)continue}e=c continue}if(c<0xDC00){if((b-=3)>-1)f.push(0xEF,0xBF,0xBD)e=c continue}c=(e-0xD800<<10|c-0xDC00)+0x10000}else if(e){if((b-=3)>-1)f.push(0xEF,0xBF,0xBD)}e=null if(c<0x80){if((b-=1)<0)break f.push(c)}else if(c<0x800){if((b-=2)<0)break f.push(c>>0x6|0xC0,c&0x3F|0x80)}else if(c<0x10000){if((b-=3)<0)break f.push(c>>0xC|0xE0,c>>0x6&0x3F|0x80,c&0x3F|0x80)}else if(c<0x110000){if((b-=4)<0)break f.push(c>>0x12|0xF0,c>>0xC&0x3F|0x80,c>>0x6&0x3F|0x80,c&0x3F|0x80)}else{throw new Error('Invalid code point')}}return f}function asciiToBytes(a){var b=[]for(var i=0;i<a.length;++i){b.push(a.charCodeAt(i)&0xFF)}return b}function utf16leToBytes(a,b){var c,hi,lo var d=[]for(var i=0;i<a.length;++i){if((b-=2)<0)break c=a.charCodeAt(i)hi=c>>8 lo=c%256 d.push(lo)d.push(hi)}return d}function base64ToBytes(a){return p.toByteArray(base64clean(a))}function blitBuffer(a,b,c,d){for(var i=0;i<d;++i){if((i+c>=b.length)||(i>=a.length))break b[i+c]=a[i]}return i}function isnan(a){return a!==a}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":17,"ieee754":26,"isarray":29}],22:[function(a,b,c){b.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}},{}],23:[function(c,f,g){(function(b){function isArray(a){if(Array.isArray){return Array.isArray(a)}return objectToString(a)==='[object Array]'}g.isArray=isArray;function isBoolean(a){return typeof a==='boolean'}g.isBoolean=isBoolean;function isNull(a){return a===null}g.isNull=isNull;function isNullOrUndefined(a){return a==null}g.isNullOrUndefined=isNullOrUndefined;function isNumber(a){return typeof a==='number'}g.isNumber=isNumber;function isString(a){return typeof a==='string'}g.isString=isString;function isSymbol(a){return typeof a==='symbol'}g.isSymbol=isSymbol;function isUndefined(a){return a===void 0}g.isUndefined=isUndefined;function isRegExp(a){return objectToString(a)==='[object RegExp]'}g.isRegExp=isRegExp;function isObject(a){return typeof a==='object'&&a!==null}g.isObject=isObject;function isDate(d){return objectToString(d)==='[object Date]'}g.isDate=isDate;function isError(e){return(objectToString(e)==='[object Error]'||e instanceof Error)}g.isError=isError;function isFunction(a){return typeof a==='function'}g.isFunction=isFunction;function isPrimitive(a){return a===null||typeof a==='boolean'||typeof a==='number'||typeof a==='string'||typeof a==='symbol'||typeof a==='undefined'}g.isPrimitive=isPrimitive;g.isBuffer=b.isBuffer;function objectToString(o){return Object.prototype.toString.call(o)}}).call(this,{"isBuffer":c("../../is-buffer/index.js")})},{"../../is-buffer/index.js":28}],24:[function(d,e,f){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}e.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError('n must be a positive number');this._maxListeners=n;return this};EventEmitter.prototype.emit=function(a){var b,handler,len,args,i,listeners;if(!this._events)this._events={};if(a==='error'){if(!this._events.error||(isObject(this._events.error)&&!this._events.error.length)){b=arguments[1];if(b instanceof Error){throw b;}else{var c=new Error('Uncaught, unspecified "error" event. ('+b+')');c.context=b;throw c;}}}handler=this._events[a];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(a,b){var m;if(!isFunction(b))throw TypeError('listener must be a function');if(!this._events)this._events={};if(this._events.newListener)this.emit('newListener',a,isFunction(b.listener)?b.listener:b);if(!this._events[a])this._events[a]=b;else if(isObject(this._events[a]))this._events[a].push(b);else this._events[a]=[this._events[a],b];if(isObject(this._events[a])&&!this._events[a].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[a].length>m){this._events[a].warned=true;console.error('(node) warning: possible EventEmitter memory '+'leak detected. %d listeners added. '+'Use emitter.setMaxListeners() to increase limit.',this._events[a].length);if(typeof console.trace==='function'){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(a,b){if(!isFunction(b))throw TypeError('listener must be a function');var c=false;function g(){this.removeListener(a,g);if(!c){c=true;b.apply(this,arguments)}}g.listener=b;this.on(a,g);return this};EventEmitter.prototype.removeListener=function(a,b){var c,position,length,i;if(!isFunction(b))throw TypeError('listener must be a function');if(!this._events||!this._events[a])return this;c=this._events[a];length=c.length;position=-1;if(c===b||(isFunction(c.listener)&&c.listener===b)){delete this._events[a];if(this._events.removeListener)this.emit('removeListener',a,b)}else if(isObject(c)){for(i=length;i-->0;){if(c[i]===b||(c[i].listener&&c[i].listener===b)){position=i;break}}if(position<0)return this;if(c.length===1){c.length=0;delete this._events[a]}else{c.splice(position,1)}if(this._events.removeListener)this.emit('removeListener',a,b)}return this};EventEmitter.prototype.removeAllListeners=function(a){var b,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[a])delete this._events[a];return this}if(arguments.length===0){for(b in this._events){if(b==='removeListener')continue;this.removeAllListeners(b)}this.removeAllListeners('removeListener');this._events={};return this}listeners=this._events[a];if(isFunction(listeners)){this.removeListener(a,listeners)}else if(listeners){while(listeners.length)this.removeListener(a,listeners[listeners.length-1])}delete this._events[a];return this};EventEmitter.prototype.listeners=function(a){var b;if(!this._events||!this._events[a])b=[];else if(isFunction(this._events[a]))b=[this._events[a]];else b=this._events[a].slice();return b};EventEmitter.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(isFunction(b))return 1;else if(b)return b.length}return 0};EventEmitter.listenerCount=function(a,b){return a.listenerCount(b)};function isFunction(a){return typeof a==='function'}function isNumber(a){return typeof a==='number'}function isObject(a){return typeof a==='object'&&a!==null}function isUndefined(a){return a===void 0}},{}],25:[function(c,d,e){var f=c('http');var g=d.exports;for(var h in f){if(f.hasOwnProperty(h))g[h]=f[h]};g.request=function(a,b){if(!a)a={};a.scheme='https';a.protocol='https:';return f.request.call(this,a,b)}},{"http":43}],26:[function(p,q,r){r.read=function(a,b,c,f,g){var e,m var h=g*8-f-1 var j=(1<<h)-1 var k=j>>1 var l=-7 var i=c?(g-1):0 var d=c?-1:1 var s=a[b+i]i+=d e=s&((1<<(-l))-1)s>>=(-l)l+=h for(;l>0;e=e*256+a[b+i],i+=d,l-=8){}m=e&((1<<(-l))-1)e>>=(-l)l+=f for(;l>0;m=m*256+a[b+i],i+=d,l-=8){}if(e===0){e=1-k}else if(e===j){return m?NaN:((s?-1:1)*Infinity)}else{m=m+Math.pow(2,f)e=e-k}return(s?-1:1)*m*Math.pow(2,e-f)}r.write=function(a,b,f,g,h,j){var e,m,c var k=j*8-h-1 var l=(1<<k)-1 var n=l>>1 var o=(h===23?Math.pow(2,-24)-Math.pow(2,-77):0)var i=g?0:(j-1)var d=g?1:-1 var s=b<0||(b===0&&1/b<0)?1:0 b=Math.abs(b)if(isNaN(b)||b===Infinity){m=isNaN(b)?1:0 e=l}else{e=Math.floor(Math.log(b)/Math.LN2)if(b*(c=Math.pow(2,-e))<1){e--c*=2}if(e+n>=1){b+=o/c}else{b+=o*Math.pow(2,1-n)}if(b*c>=2){e++c/=2}if(e+n>=l){m=0 e=l}else if(e+n>=1){m=(b*c-1)*Math.pow(2,h)e=e+n}else{m=b*Math.pow(2,n-1)*Math.pow(2,h)e=0}}for(;h>=8;a[f+i]=m&0xff,i+=d,m/=256,h-=8){}e=(e<<h)|m k+=h for(;k>0;a[f+i]=e&0xff,i+=d,e/=256,k-=8){}a[f+i-d]|=s*128}},{}],27:[function(d,e,f){if(typeof Object.create==='function'){e.exports=function inherits(a,b){a.super_=b a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:false,writable:true,configurable:true}})}}else{e.exports=function inherits(a,b){a.super_=b var c=function(){}c.prototype=b.prototype a.prototype=new c()a.prototype.constructor=a}}},{}],28:[function(b,c,d){c.exports=function(a){return a!=null&&(isBuffer(a)||isSlowBuffer(a)||!!a._isBuffer)}function isBuffer(a){return!!a.constructor&&typeof a.constructor.isBuffer==='function'&&a.constructor.isBuffer(a)}function isSlowBuffer(a){return typeof a.readFloatLE==='function'&&typeof a.slice==='function'&&isBuffer(a.slice(0,0))}},{}],29:[function(b,c,d){var toString={}.toString;c.exports=Array.isArray||function(a){return toString.call(a)=='[object Array]'}},{}],30:[function(h,j,k){(function(g){'use strict';if(!g.version||g.version.indexOf('v0.')===0||g.version.indexOf('v1.')===0&&g.version.indexOf('v1.8.')!==0){j.exports=nextTick}else{j.exports=g.nextTick}function nextTick(a,b,c,d){if(typeof a!=='function'){throw new TypeError('"callback" argument must be a function');}var e=arguments.length;var f,i;switch(e){case 0:case 1:return g.nextTick(a);case 2:return g.nextTick(function afterTickOne(){a.call(null,b)});case 3:return g.nextTick(function afterTickTwo(){a.call(null,b,c)});case 4:return g.nextTick(function afterTickThree(){a.call(null,b,c,d)});default:f=new Array(e-1);i=0;while(i<f.length){f[i++]=arguments[i]}return g.nextTick(function afterTick(){a.apply(null,f)})}}}).call(this,h('_process'))},{"_process":31}],31:[function(c,d,f){var g=d.exports={};var h;var j;function defaultSetTimout(){throw new Error('setTimeout has not been defined');}function defaultClearTimeout(){throw new Error('clearTimeout has not been defined');}(function(){try{if(typeof setTimeout==='function'){h=setTimeout}else{h=defaultSetTimout}}catch(e){h=defaultSetTimout}try{if(typeof clearTimeout==='function'){j=clearTimeout}else{j=defaultClearTimeout}}catch(e){j=defaultClearTimeout}}())function runTimeout(a){if(h===setTimeout){return setTimeout(a,0)}if((h===defaultSetTimout||!h)&&setTimeout){h=setTimeout;return setTimeout(a,0)}try{return h(a,0)}catch(e){try{return h.call(null,a,0)}catch(e){return h.call(this,a,0)}}}function runClearTimeout(a){if(j===clearTimeout){return clearTimeout(a)}if((j===defaultClearTimeout||!j)&&clearTimeout){j=clearTimeout;return clearTimeout(a)}try{return j(a)}catch(e){try{return j.call(null,a)}catch(e){return j.call(this,a)}}}var k=[];var l=false;var m;var n=-1;function cleanUpNextTick(){if(!l||!m){return}l=false;if(m.length){k=m.concat(k)}else{n=-1}if(k.length){drainQueue()}}function drainQueue(){if(l){return}var a=runTimeout(cleanUpNextTick);l=true;var b=k.length;while(b){m=k;k=[];while(++n<b){if(m){m[n].run()}}n=-1;b=k.length}m=null;l=false;runClearTimeout(a)}g.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){b[i-1]=arguments[i]}}k.push(new Item(a,b));if(k.length===1&&!l){runTimeout(drainQueue)}};function Item(a,b){this.fun=a;this.array=b}Item.prototype.run=function(){this.fun.apply(null,this.array)};g.title='browser';g.browser=true;g.env={};g.argv=[];g.version='';g.versions={};function noop(){}g.on=noop;g.addListener=noop;g.once=noop;g.off=noop;g.removeListener=noop;g.removeAllListeners=noop;g.emit=noop;g.binding=function(a){throw new Error('process.binding is not supported');};g.cwd=function(){return'/'};g.chdir=function(a){throw new Error('process.chdir is not supported');};g.umask=function(){return 0}},{}],32:[function(s,u,v){(function(r){;(function(g){var h=typeof v=='object'&&v&&!v.nodeType&&v;var l=typeof u=='object'&&u&&!u.nodeType&&u;var o=typeof r=='object'&&r;if(o.global===o||o.window===o||o.self===o){g=o}var p,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter='-',regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={'overflow':'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(a){throw new RangeError(errors[a]);}function map(a,b){var c=a.length;var d=[];while(c--){d[c]=b(a[c])}return d}function mapDomain(a,b){var c=a.split('@');var d='';if(c.length>1){d=c[0]+'@';a=c[1]}a=a.replace(regexSeparators,'\x2E');var e=a.split('.');var f=map(e,b).join('.');return d+f}function ucs2decode(a){var b=[],counter=0,length=a.length,value,extra;while(counter<length){value=a.charCodeAt(counter++);if(value>=0xD800&&value<=0xDBFF&&counter<length){extra=a.charCodeAt(counter++);if((extra&0xFC00)==0xDC00){b.push(((value&0x3FF)<<10)+(extra&0x3FF)+0x10000)}else{b.push(value);counter--}}else{b.push(value)}}return b}function ucs2encode(c){return map(c,function(a){var b='';if(a>0xFFFF){a-=0x10000;b+=stringFromCharCode(a>>>10&0x3FF|0xD800);a=0xDC00|a&0x3FF}b+=stringFromCharCode(a);return b}).join('')}function basicToDigit(a){if(a-48<10){return a-22}if(a-65<26){return a-65}if(a-97<26){return a-97}return base}function digitToBasic(a,b){return a+22+75*(a<26)-((b!=0)<<5)}function adapt(a,b,c){var k=0;a=c?floor(a/damp):a>>1;a+=floor(a/b);for(;a>baseMinusTMin*tMax>>1;k+=base){a=floor(a/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*a/(a+skew))}function decode(a){var b=[],inputLength=a.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=a.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(a.charCodeAt(j)>=0x80){error('not-basic')}b.push(a.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;k+=base){if(index>=inputLength){error('invalid-input')}digit=basicToDigit(a.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error('overflow')}i+=digit*w;t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error('overflow')}w*=baseMinusT}out=b.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error('overflow')}n+=floor(i/out);i%=out;b.splice(i++,0,n)}return ucs2encode(b)}function encode(a){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;a=ucs2decode(a);inputLength=a.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=a[j];if(currentValue<0x80){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=a[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error('overflow')}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=a[j];if(currentValue<n&&++delta>maxInt){error('overflow')}if(currentValue==n){for(q=delta,k=base;k+=base){t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join('')}function toUnicode(b){return mapDomain(b,function(a){return regexPunycode.test(a)?decode(a.slice(4).toLowerCase()):a})}function toASCII(b){return mapDomain(b,function(a){return regexNonASCII.test(a)?'xn--'+encode(a):a})}p={'version':'1.4.1','ucs2':{'decode':ucs2decode,'encode':ucs2encode},'decode':decode,'encode':encode,'toASCII':toASCII,'toUnicode':toUnicode};if(typeof define=='function'&&typeof define.amd=='object'&&define.amd){define('punycode',function(){return p})}else if(h&&l){if(u.exports==h){l.exports=p}else{for(key in p){p.hasOwnProperty(key)&&(h[key]=p[key])}}}else{g.punycode=p}}(this))}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],33:[function(j,l,m){'use strict';function hasOwnProperty(a,b){return Object.prototype.hasOwnProperty.call(a,b)}l.exports=function(a,b,c,d){b=b||'&';c=c||'=';var e={};if(typeof a!=='string'||a.length===0){return e}var f=/\+/g;a=a.split(b);var g=1000;if(d&&typeof d.maxKeys==='number'){g=d.maxKeys}var h=a.length;if(g>0&&h>g){h=g}for(var i=0;i<h;++i){var x=a[i].replace(f,'%20'),idx=x.indexOf(c),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=''}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(e,k)){e[k]=v}else if(n(e[k])){e[k].push(v)}else{e[k]=[e[k],v]}}return e};var n=Array.isArray||function(a){return Object.prototype.toString.call(a)==='[object Array]'}},{}],34:[function(g,h,j){'use strict';var l=function(v){switch(typeof v){case'string':return v;case'boolean':return v?'true':'false';case'number':return isFinite(v)?v:'';default:return''}};h.exports=function(b,c,d,e){c=c||'&';d=d||'=';if(b===null){b=undefined}if(typeof b==='object'){return map(n(b),function(k){var a=encodeURIComponent(l(k))+d;if(m(b[k])){return map(b[k],function(v){return a+encodeURIComponent(l(v))}).join(c)}else{return a+encodeURIComponent(l(b[k]))}}).join(c)}if(!e)return'';return encodeURIComponent(l(e))+d+encodeURIComponent(l(b))};var m=Array.isArray||function(a){return Object.prototype.toString.call(a)==='[object Array]'};function map(a,f){if(a.map)return a.map(f);var b=[];for(var i=0;i<a.length;i++){b.push(f(a[i],i))}return b}var n=Object.keys||function(a){var b=[];for(var c in a){if(Object.prototype.hasOwnProperty.call(a,c))b.push(c)}return b}},{}],35:[function(a,b,c){'use strict';c.decode=c.parse=a('./decode');c.encode=c.stringify=a('./encode')},{"./decode":33,"./encode":34}],36:[function(d,e,g){'use strict';var h=Object.keys||function(a){var b=[];for(var c in a){b.push(c)}return b};e.exports=Duplex;var j=d('process-nextick-args');var k=d('core-util-is');k.inherits=d('inherits');var m=d('./_stream_readable');var n=d('./_stream_writable');k.inherits(Duplex,m);var o=h(n.prototype);for(var v=0;v<o.length;v++){var p=o[v];if(!Duplex.prototype[p])Duplex.prototype[p]=n.prototype[p]}function Duplex(a){if(!(this instanceof Duplex))return new Duplex(a);m.call(this,a);n.call(this,a);if(a&&a.readable===false)this.readable=false;if(a&&a.writable===false)this.writable=false;this.allowHalfOpen=true;if(a&&a.allowHalfOpen===false)this.allowHalfOpen=false;this.once('end',onend)}function onend(){if(this.allowHalfOpen||this._writableState.ended)return;j(onEndNT,this)}function onEndNT(a){a.end()}function forEach(a,f){for(var i=0,l=a.length;i<l;i++){f(a[i],i)}}},{"./_stream_readable":38,"./_stream_writable":40,"core-util-is":23,"inherits":27,"process-nextick-args":30}],37:[function(d,e,f){'use strict';e.exports=PassThrough;var g=d('./_stream_transform');var h=d('core-util-is');h.inherits=d('inherits');h.inherits(PassThrough,g);function PassThrough(a){if(!(this instanceof PassThrough))return new PassThrough(a);g.call(this,a)}PassThrough.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":39,"core-util-is":23,"inherits":27}],38:[function(E,F,G){(function(m){'use strict';F.exports=Readable;var o=E('process-nextick-args');var q=E('isarray');var r;Readable.ReadableState=ReadableState;var s=E('events').EventEmitter;var t=function(a,b){return a.listeners(b).length};var u;(function(){try{u=E('st'+'ream')}catch(_){}finally{if(!u)u=E('events').EventEmitter}})();var v=E('buffer').Buffer;var w=E('buffer-shims');var y=E('core-util-is');y.inherits=E('inherits');var z=E('util');var A=void 0;if(z&&z.debuglog){A=z.debuglog('stream')}else{A=function(){}}var B=E('./internal/streams/BufferList');var C;y.inherits(Readable,u);function prependListener(a,b,c){if(typeof a.prependListener==='function'){return a.prependListener(b,c)}else{if(!a._events||!a._events[b])a.on(b,c);else if(q(a._events[b]))a._events[b].unshift(c);else a._events[b]=[c,a._events[b]]}}function ReadableState(a,b){r=r||E('./_stream_duplex');a=a||{};this.objectMode=!!a.objectMode;if(b instanceof r)this.objectMode=this.objectMode||!!a.readableObjectMode;var c=a.highWaterMark;var d=this.objectMode?16:16*1024;this.highWaterMark=c||c===0?c:d;this.highWaterMark=~~this.highWaterMark;this.buffer=new B();this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.defaultEncoding=a.defaultEncoding||'utf8';this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(a.encoding){if(!C)C=E('string_decoder/').StringDecoder;this.decoder=new C(a.encoding);this.encoding=a.encoding}}function Readable(a){r=r||E('./_stream_duplex');if(!(this instanceof Readable))return new Readable(a);this._readableState=new ReadableState(a,this);this.readable=true;if(a&&typeof a.read==='function')this._read=a.read;u.call(this)}Readable.prototype.push=function(a,b){var c=this._readableState;if(!c.objectMode&&typeof a==='string'){b=b||c.defaultEncoding;if(b!==c.encoding){a=w.from(a,b);b=''}}return readableAddChunk(this,c,a,b,false)};Readable.prototype.unshift=function(a){var b=this._readableState;return readableAddChunk(this,b,a,'',true)};Readable.prototype.isPaused=function(){return this._readableState.flowing===false};function readableAddChunk(a,b,c,d,f){var g=chunkInvalid(b,c);if(g){a.emit('error',g)}else if(c===null){b.reading=false;onEofChunk(a,b)}else if(b.objectMode||c&&c.length>0){if(b.ended&&!f){var e=new Error('stream.push() after EOF');a.emit('error',e)}else if(b.endEmitted&&f){var h=new Error('stream.unshift() after end event');a.emit('error',h)}else{var i;if(b.decoder&&!f&&!d){c=b.decoder.write(c);i=!b.objectMode&&c.length===0}if(!f)b.reading=false;if(!i){if(b.flowing&&b.length===0&&!b.sync){a.emit('data',c);a.read(0)}else{b.length+=b.objectMode?1:c.length;if(f)b.buffer.unshift(c);else b.buffer.push(c);if(b.needReadable)emitReadable(a)}}maybeReadMore(a,b)}}else if(!f){b.reading=false}return needMoreData(b)}function needMoreData(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||a.length===0)}Readable.prototype.setEncoding=function(a){if(!C)C=E('string_decoder/').StringDecoder;this._readableState.decoder=new C(a);this._readableState.encoding=a;return this};var D=0x800000;function computeNewHighWaterMark(n){if(n>=D){n=D}else{n--;n|=n>>>1;n|=n>>>2;n|=n>>>4;n|=n>>>8;n|=n>>>16;n++}return n}function howMuchToRead(n,a){if(n<=0||a.length===0&&a.ended)return 0;if(a.objectMode)return 1;if(n!==n){if(a.flowing&&a.length)return a.buffer.head.data.length;else return a.length}if(n>a.highWaterMark)a.highWaterMark=computeNewHighWaterMark(n);if(n<=a.length)return n;if(!a.ended){a.needReadable=true;return 0}return a.length}Readable.prototype.read=function(n){A('read',n);n=parseInt(n,10);var a=this._readableState;var b=n;if(n!==0)a.emittedReadable=false;if(n===0&&a.needReadable&&(a.length>=a.highWaterMark||a.ended)){A('read: emitReadable',a.length,a.ended);if(a.length===0&&a.ended)endReadable(this);else emitReadable(this);return null}n=howMuchToRead(n,a);if(n===0&&a.ended){if(a.length===0)endReadable(this);return null}var c=a.needReadable;A('need readable',c);if(a.length===0||a.length-n<a.highWaterMark){c=true;A('length less than watermark',c)}if(a.ended||a.reading){c=false;A('reading or ended',c)}else if(c){A('do read');a.reading=true;a.sync=true;if(a.length===0)a.needReadable=true;this._read(a.highWaterMark);a.sync=false;if(!a.reading)n=howMuchToRead(b,a)}var d;if(n>0)d=fromList(n,a);else d=null;if(d===null){a.needReadable=true;n=0}else{a.length-=n}if(a.length===0){if(!a.ended)a.needReadable=true;if(b!==n&&a.ended)endReadable(this)}if(d!==null)this.emit('data',d);return d};function chunkInvalid(a,b){var c=null;if(!v.isBuffer(b)&&typeof b!=='string'&&b!==null&&b!==undefined&&!a.objectMode){c=new TypeError('Invalid non-string/buffer chunk')}return c}function onEofChunk(a,b){if(b.ended)return;if(b.decoder){var c=b.decoder.end();if(c&&c.length){b.buffer.push(c);b.length+=b.objectMode?1:c.length}}b.ended=true;emitReadable(a)}function emitReadable(a){var b=a._readableState;b.needReadable=false;if(!b.emittedReadable){A('emitReadable',b.flowing);b.emittedReadable=true;if(b.sync)o(emitReadable_,a);else emitReadable_(a)}}function emitReadable_(a){A('emit readable');a.emit('readable');flow(a)}function maybeReadMore(a,b){if(!b.readingMore){b.readingMore=true;o(maybeReadMore_,a,b)}}function maybeReadMore_(a,b){var c=b.length;while(!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark){A('maybeReadMore read 0');a.read(0);if(c===b.length)break;else c=b.length}b.readingMore=false}Readable.prototype._read=function(n){this.emit('error',new Error('_read() is not implemented'))};Readable.prototype.pipe=function(c,d){var e=this;var f=this._readableState;switch(f.pipesCount){case 0:f.pipes=c;break;case 1:f.pipes=[f.pipes,c];break;default:f.pipes.push(c);break}f.pipesCount+=1;A('pipe count=%d opts=%j',f.pipesCount,d);var g=(!d||d.end!==false)&&c!==m.stdout&&c!==m.stderr;var h=g?onend:cleanup;if(f.endEmitted)o(h);else e.once('end',h);c.on('unpipe',onunpipe);function onunpipe(a){A('onunpipe');if(a===e){cleanup()}}function onend(){A('onend');c.end()}var i=pipeOnDrain(e);c.on('drain',i);var j=false;function cleanup(){A('cleanup');c.removeListener('close',onclose);c.removeListener('finish',onfinish);c.removeListener('drain',i);c.removeListener('error',onerror);c.removeListener('unpipe',onunpipe);e.removeListener('end',onend);e.removeListener('end',cleanup);e.removeListener('data',ondata);j=true;if(f.awaitDrain&&(!c._writableState||c._writableState.needDrain))i()}var k=false;e.on('data',ondata);function ondata(a){A('ondata');k=false;var b=c.write(a);if(false===b&&!k){if((f.pipesCount===1&&f.pipes===c||f.pipesCount>1&&indexOf(f.pipes,c)!==-1)&&!j){A('false write response, pause',e._readableState.awaitDrain);e._readableState.awaitDrain++;k=true}e.pause()}}function onerror(a){A('onerror',a);unpipe();c.removeListener('error',onerror);if(t(c,'error')===0)c.emit('error',a)}prependListener(c,'error',onerror);function onclose(){c.removeListener('finish',onfinish);unpipe()}c.once('close',onclose);function onfinish(){A('onfinish');c.removeListener('close',onclose);unpipe()}c.once('finish',onfinish);function unpipe(){A('unpipe');e.unpipe(c)}c.emit('pipe',e);if(!f.flowing){A('pipe resume');e.resume()}return c};function pipeOnDrain(b){return function(){var a=b._readableState;A('pipeOnDrain',a.awaitDrain);if(a.awaitDrain)a.awaitDrain--;if(a.awaitDrain===0&&t(b,'data')){a.flowing=true;flow(b)}}}Readable.prototype.unpipe=function(a){var b=this._readableState;if(b.pipesCount===0)return this;if(b.pipesCount===1){if(a&&a!==b.pipes)return this;if(!a)a=b.pipes;b.pipes=null;b.pipesCount=0;b.flowing=false;if(a)a.emit('unpipe',this);return this}if(!a){var c=b.pipes;var d=b.pipesCount;b.pipes=null;b.pipesCount=0;b.flowing=false;for(var i=0;i<d;i++){c[i].emit('unpipe',this)}return this}var e=indexOf(b.pipes,a);if(e===-1)return this;b.pipes.splice(e,1);b.pipesCount-=1;if(b.pipesCount===1)b.pipes=b.pipes[0];a.emit('unpipe',this);return this};Readable.prototype.on=function(a,b){var c=u.prototype.on.call(this,a,b);if(a==='data'){if(this._readableState.flowing!==false)this.resume()}else if(a==='readable'){var d=this._readableState;if(!d.endEmitted&&!d.readableListening){d.readableListening=d.needReadable=true;d.emittedReadable=false;if(!d.reading){o(nReadingNextTick,this)}else if(d.length){emitReadable(this,d)}}}return c};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(a){A('readable nexttick read 0');a.read(0)}Readable.prototype.resume=function(){var a=this._readableState;if(!a.flowing){A('resume');a.flowing=true;resume(this,a)}return this};function resume(a,b){if(!b.resumeScheduled){b.resumeScheduled=true;o(resume_,a,b)}}function resume_(a,b){if(!b.reading){A('resume read 0');a.read(0)}b.resumeScheduled=false;b.awaitDrain=0;a.emit('resume');flow(a);if(b.flowing&&!b.reading)a.read(0)}Readable.prototype.pause=function(){A('call pause flowing=%j',this._readableState.flowing);if(false!==this._readableState.flowing){A('pause');this._readableState.flowing=false;this.emit('pause')}return this};function flow(a){var b=a._readableState;A('flow',b.flowing);while(b.flowing&&a.read()!==null){}}Readable.prototype.wrap=function(c){var d=this._readableState;var e=false;var f=this;c.on('end',function(){A('wrapped end');if(d.decoder&&!d.ended){var a=d.decoder.end();if(a&&a.length)f.push(a)}f.push(null)});c.on('data',function(a){A('wrapped data');if(d.decoder)a=d.decoder.write(a);if(d.objectMode&&(a===null||a===undefined))return;else if(!d.objectMode&&(!a||!a.length))return;var b=f.push(a);if(!b){e=true;c.pause()}});for(var i in c){if(this[i]===undefined&&typeof c[i]==='function'){this[i]=function(a){return function(){return c[a].apply(c,arguments)}}(i)}}var g=['error','close','destroy','pause','resume'];forEach(g,function(a){c.on(a,f.emit.bind(f,a))});f._read=function(n){A('wrapped _read',n);if(e){e=false;c.resume()}};return f};Readable._fromList=fromList;function fromList(n,a){if(a.length===0)return null;var b;if(a.objectMode)b=a.buffer.shift();else if(!n||n>=a.length){if(a.decoder)b=a.buffer.join('');else if(a.buffer.length===1)b=a.buffer.head.data;else b=a.buffer.concat(a.length);a.buffer.clear()}else{b=fromListPartial(n,a.buffer,a.decoder)}return b}function fromListPartial(n,a,b){var c;if(n<a.head.data.length){c=a.head.data.slice(0,n);a.head.data=a.head.data.slice(n)}else if(n===a.head.data.length){c=a.shift()}else{c=b?copyFromBufferString(n,a):copyFromBuffer(n,a)}return c}function copyFromBufferString(n,a){var p=a.head;var c=1;var b=p.data;n-=b.length;while(p=p.next){var d=p.data;var e=n>d.length?d.length:n;if(e===d.length)b+=d;else b+=d.slice(0,n);n-=e;if(n===0){if(e===d.length){++c;if(p.next)a.head=p.next;else a.head=a.tail=null}else{a.head=p;p.data=d.slice(e)}break}++c}a.length-=c;return b}function copyFromBuffer(n,a){var b=w.allocUnsafe(n);var p=a.head;var c=1;p.data.copy(b);n-=p.data.length;while(p=p.next){var d=p.data;var e=n>d.length?d.length:n;d.copy(b,b.length-n,0,e);n-=e;if(n===0){if(e===d.length){++c;if(p.next)a.head=p.next;else a.head=a.tail=null}else{a.head=p;p.data=d.slice(e)}break}++c}a.length-=c;return b}function endReadable(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!b.endEmitted){b.ended=true;o(endReadableNT,b,a)}}function endReadableNT(a,b){if(!a.endEmitted&&a.length===0){a.endEmitted=true;b.readable=false;b.emit('end')}}function forEach(a,f){for(var i=0,l=a.length;i<l;i++){f(a[i],i)}}function indexOf(a,x){for(var i=0,l=a.length;i<l;i++){if(a[i]===x)return i}return-1}}).call(this,E('_process'))},{"./_stream_duplex":36,"./internal/streams/BufferList":41,"_process":31,"buffer":21,"buffer-shims":20,"core-util-is":23,"events":24,"inherits":27,"isarray":29,"process-nextick-args":30,"string_decoder/":47,"util":18}],39:[function(g,h,i){'use strict';h.exports=Transform;var j=g('./_stream_duplex');var k=g('core-util-is');k.inherits=g('inherits');k.inherits(Transform,j);function TransformState(c){this.afterTransform=function(a,b){return afterTransform(c,a,b)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null;this.writeencoding=null}function afterTransform(a,b,c){var d=a._transformState;d.transforming=false;var e=d.writecb;if(!e)return a.emit('error',new Error('no writecb in Transform class'));d.writechunk=null;d.writecb=null;if(c!==null&&c!==undefined)a.push(c);e(b);var f=a._readableState;f.reading=false;if(f.needReadable||f.length<f.highWaterMark){a._read(f.highWaterMark)}}function Transform(c){if(!(this instanceof Transform))return new Transform(c);j.call(this,c);this._transformState=new TransformState(this);var d=this;this._readableState.needReadable=true;this._readableState.sync=false;if(c){if(typeof c.transform==='function')this._transform=c.transform;if(typeof c.flush==='function')this._flush=c.flush}this.once('prefinish',function(){if(typeof this._flush==='function')this._flush(function(a,b){done(d,a,b)});else done(d)})}Transform.prototype.push=function(a,b){this._transformState.needTransform=false;return j.prototype.push.call(this,a,b)};Transform.prototype._transform=function(a,b,c){throw new Error('_transform() is not implemented');};Transform.prototype._write=function(a,b,c){var d=this._transformState;d.writecb=c;d.writechunk=a;d.writeencoding=b;if(!d.transforming){var e=this._readableState;if(d.needTransform||e.needReadable||e.length<e.highWaterMark)this._read(e.highWaterMark)}};Transform.prototype._read=function(n){var a=this._transformState;if(a.writechunk!==null&&a.writecb&&!a.transforming){a.transforming=true;this._transform(a.writechunk,a.writeencoding,a.afterTransform)}else{a.needTransform=true}};function done(a,b,c){if(b)return a.emit('error',b);if(c!==null&&c!==undefined)a.push(c);var d=a._writableState;var e=a._transformState;if(d.length)throw new Error('Calling transform done when ws.length != 0');if(e.transforming)throw new Error('Calling transform done when still transforming');return a.push(null)}},{"./_stream_duplex":36,"core-util-is":23,"inherits":27}],40:[function(v,w,x){(function(k){'use strict';w.exports=Writable;var m=v('process-nextick-args');var n=!k.browser&&['v0.10','v0.9.'].indexOf(k.version.slice(0,5))>-1?setImmediate:m;var o;Writable.WritableState=WritableState;var p=v('core-util-is');p.inherits=v('inherits');var q={deprecate:v('util-deprecate')};var r;(function(){try{r=v('st'+'ream')}catch(_){}finally{if(!r)r=v('events').EventEmitter}})();var s=v('buffer').Buffer;var t=v('buffer-shims');p.inherits(Writable,r);function nop(){}function WriteReq(a,b,c){this.chunk=a;this.encoding=b;this.callback=c;this.next=null}function WritableState(b,c){o=o||v('./_stream_duplex');b=b||{};this.objectMode=!!b.objectMode;if(c instanceof o)this.objectMode=this.objectMode||!!b.writableObjectMode;var d=b.highWaterMark;var e=this.objectMode?16:16*1024;this.highWaterMark=d||d===0?d:e;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var f=b.decodeStrings===false;this.decodeStrings=!f;this.defaultEncoding=b.defaultEncoding||'utf8';this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(a){onwrite(c,a)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var a=this.bufferedRequest;var b=[];while(a){b.push(a);a=a.next}return b};(function(){try{Object.defineProperty(WritableState.prototype,'buffer',{get:q.deprecate(function(){return this.getBuffer()},'_writableState.buffer is deprecated. Use _writableState.getBuffer '+'instead.')})}catch(_){}})();var u;if(typeof Symbol==='function'&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==='function'){u=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function(a){if(u.call(this,a))return true;return a&&a._writableState instanceof WritableState}})}else{u=function(a){return a instanceof this}}function Writable(a){o=o||v('./_stream_duplex');if(!u.call(Writable,this)&&!(this instanceof o)){return new Writable(a)}this._writableState=new WritableState(a,this);this.writable=true;if(a){if(typeof a.write==='function')this._write=a.write;if(typeof a.writev==='function')this._writev=a.writev}r.call(this)}Writable.prototype.pipe=function(){this.emit('error',new Error('Cannot pipe, not readable'))};function writeAfterEnd(a,b){var c=new Error('write after end');a.emit('error',c);m(b,c)}function validChunk(a,b,c,d){var e=true;var f=false;if(c===null){f=new TypeError('May not write null values to stream')}else if(!s.isBuffer(c)&&typeof c!=='string'&&c!==undefined&&!b.objectMode){f=new TypeError('Invalid non-string/buffer chunk')}if(f){a.emit('error',f);m(d,f);e=false}return e}Writable.prototype.write=function(a,b,c){var d=this._writableState;var e=false;if(typeof b==='function'){c=b;b=null}if(s.isBuffer(a))b='buffer';else if(!b)b=d.defaultEncoding;if(typeof c!=='function')c=nop;if(d.ended)writeAfterEnd(this,c);else if(validChunk(this,d,a,c)){d.pendingcb++;e=writeOrBuffer(this,d,a,b,c)}return e};Writable.prototype.cork=function(){var a=this._writableState;a.corked++};Writable.prototype.uncork=function(){var a=this._writableState;if(a.corked){a.corked--;if(!a.writing&&!a.corked&&!a.finished&&!a.bufferProcessing&&a.bufferedRequest)clearBuffer(this,a)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(a){if(typeof a==='string')a=a.toLowerCase();if(!(['hex','utf8','utf-8','ascii','binary','base64','ucs2','ucs-2','utf16le','utf-16le','raw'].indexOf((a+'').toLowerCase())>-1))throw new TypeError('Unknown encoding: '+a);this._writableState.defaultEncoding=a;return this};function decodeChunk(a,b,c){if(!a.objectMode&&a.decodeStrings!==false&&typeof b==='string'){b=t.from(b,c)}return b}function writeOrBuffer(a,b,c,d,e){c=decodeChunk(b,c,d);if(s.isBuffer(c))d='buffer';var f=b.objectMode?1:c.length;b.length+=f;var g=b.length<b.highWaterMark;if(!g)b.needDrain=true;if(b.writing||b.corked){var h=b.lastBufferedRequest;b.lastBufferedRequest=new WriteReq(c,d,e);if(h){h.next=b.lastBufferedRequest}else{b.bufferedRequest=b.lastBufferedRequest}b.bufferedRequestCount+=1}else{doWrite(a,b,false,f,c,d,e)}return g}function doWrite(a,b,c,d,e,f,g){b.writelen=d;b.writecb=g;b.writing=true;b.sync=true;if(c)a._writev(e,b.onwrite);else a._write(e,f,b.onwrite);b.sync=false}function onwriteError(a,b,c,d,e){--b.pendingcb;if(c)m(e,d);else e(d);a._writableState.errorEmitted=true;a.emit('error',d)}function onwriteStateUpdate(a){a.writing=false;a.writecb=null;a.length-=a.writelen;a.writelen=0}function onwrite(a,b){var c=a._writableState;var d=c.sync;var e=c.writecb;onwriteStateUpdate(c);if(b)onwriteError(a,c,d,b,e);else{var f=needFinish(c);if(!f&&!c.corked&&!c.bufferProcessing&&c.bufferedRequest){clearBuffer(a,c)}if(d){n(afterWrite,a,c,f,e)}else{afterWrite(a,c,f,e)}}}function afterWrite(a,b,c,d){if(!c)onwriteDrain(a,b);b.pendingcb--;d();finishMaybe(a,b)}function onwriteDrain(a,b){if(b.length===0&&b.needDrain){b.needDrain=false;a.emit('drain')}}function clearBuffer(a,b){b.bufferProcessing=true;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var l=b.bufferedRequestCount;var d=new Array(l);var e=b.corkedRequestsFree;e.entry=c;var f=0;while(c){d[f]=c;c=c.next;f+=1}doWrite(a,b,true,b.length,d,'',e.finish);b.pendingcb++;b.lastBufferedRequest=null;if(e.next){b.corkedRequestsFree=e.next;e.next=null}else{b.corkedRequestsFree=new CorkedRequest(b)}}else{while(c){var g=c.chunk;var h=c.encoding;var i=c.callback;var j=b.objectMode?1:g.length;doWrite(a,b,false,j,g,h,i);c=c.next;if(b.writing){break}}if(c===null)b.lastBufferedRequest=null}b.bufferedRequestCount=0;b.bufferedRequest=c;b.bufferProcessing=false}Writable.prototype._write=function(a,b,c){c(new Error('_write() is not implemented'))};Writable.prototype._writev=null;Writable.prototype.end=function(a,b,c){var d=this._writableState;if(typeof a==='function'){c=a;a=null;b=null}else if(typeof b==='function'){c=b;b=null}if(a!==null&&a!==undefined)this.write(a,b);if(d.corked){d.corked=1;this.uncork()}if(!d.ending&&!d.finished)endWritable(this,d,c)};function needFinish(a){return a.ending&&a.length===0&&a.bufferedRequest===null&&!a.finished&&!a.writing}function prefinish(a,b){if(!b.prefinished){b.prefinished=true;a.emit('prefinish')}}function finishMaybe(a,b){var c=needFinish(b);if(c){if(b.pendingcb===0){prefinish(a,b);b.finished=true;a.emit('finish')}else{prefinish(a,b)}}return c}function endWritable(a,b,c){b.ending=true;finishMaybe(a,b);if(c){if(b.finished)m(c);else a.once('finish',c)}b.ended=true;a.writable=false}function CorkedRequest(d){var e=this;this.next=null;this.entry=null;this.finish=function(a){var b=e.entry;e.entry=null;while(b){var c=b.callback;d.pendingcb--;c(a);b=b.next}if(d.corkedRequestsFree){d.corkedRequestsFree.next=e}else{d.corkedRequestsFree=e}}}}).call(this,v('_process'))},{"./_stream_duplex":36,"_process":31,"buffer":21,"buffer-shims":20,"core-util-is":23,"events":24,"inherits":27,"process-nextick-args":30,"util-deprecate":51}],41:[function(b,c,d){'use strict';var e=b('buffer').Buffer;var f=b('buffer-shims');c.exports=BufferList;function BufferList(){this.head=null;this.tail=null;this.length=0}BufferList.prototype.push=function(v){var a={data:v,next:null};if(this.length>0)this.tail.next=a;else this.head=a;this.tail=a;++this.length};BufferList.prototype.unshift=function(v){var a={data:v,next:this.head};if(this.length===0)this.tail=a;this.head=a;++this.length};BufferList.prototype.shift=function(){if(this.length===0)return;var a=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return a};BufferList.prototype.clear=function(){this.head=this.tail=null;this.length=0};BufferList.prototype.join=function(s){if(this.length===0)return'';var p=this.head;var a=''+p.data;while(p=p.next){a+=s+p.data}return a};BufferList.prototype.concat=function(n){if(this.length===0)return f.alloc(0);if(this.length===1)return this.head.data;var a=f.allocUnsafe(n>>>0);var p=this.head;var i=0;while(p){p.data.copy(a,i);i+=p.data.length;p=p.next}return a}},{"buffer":21,"buffer-shims":20}],42:[function(c,d,e){(function(a){var b=(function(){try{return c('st'+'ream')}catch(_){}}());e=d.exports=c('./lib/_stream_readable.js');e.Stream=b||e;e.Readable=e;e.Writable=c('./lib/_stream_writable.js');e.Duplex=c('./lib/_stream_duplex.js');e.Transform=c('./lib/_stream_transform.js');e.PassThrough=c('./lib/_stream_passthrough.js');if(!a.browser&&a.env.READABLE_STREAM==='disable'&&b){d.exports=b}}).call(this,c('_process'))},{"./lib/_stream_duplex.js":36,"./lib/_stream_passthrough.js":37,"./lib/_stream_readable.js":38,"./lib/_stream_transform.js":39,"./lib/_stream_writable.js":40,"_process":31}],43:[function(o,p,q){(function(i){var j=o('./lib/request')var k=o('xtend')var l=o('builtin-status-codes')var m=o('url')var n=q n.request=function(a,b){if(typeof a==='string')a=m.parse(a)else a=k(a)var c=i.location.protocol.search(/^https?:$/)===-1?'http:':''var d=a.protocol||c var e=a.hostname||a.host var f=a.port var g=a.path||'/'if(e&&e.indexOf(':')!==-1)e='['+e+']'opts.url=(e?(d+'//'+e):'')+(f?':'+f:'')+g a.method=(a.method||'GET').toUpperCase()a.headers=a.headers||{}var h=new j(a)if(b)h.on('response',b)return h}n.get=function get(a,b){var c=n.request(a,b)c.end()return c}n.Agent=function(){}n.Agent.defaultMaxSockets=4 n.STATUS_CODES=l n.METHODS=['CHECKOUT','CONNECT','COPY','DELETE','GET','HEAD','LOCK','M-SEARCH','MERGE','MKACTIVITY','MKCOL','MOVE','NOTIFY','OPTIONS','PATCH','POST','PROPFIND','PROPPATCH','PURGE','PUT','REPORT','SEARCH','SUBSCRIBE','TRACE','UNLOCK','UNSUBSCRIBE']}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./lib/request":45,"builtin-status-codes":22,"url":49,"xtend":53}],44:[function(g,h,i){(function(b){i.fetch=isFunction(b.fetch)&&isFunction(b.ReadableStream)i.blobConstructor=false try{new Blob([new ArrayBuffer(1)])i.blobConstructor=true}catch(e){}var c=new b.XMLHttpRequest()c.open('GET',b.XDomainRequest?'/':'https://example.com')function checkTypeSupport(a){try{c.responseType=a return c.responseType===a}catch(e){}return false}var d=typeof b.ArrayBuffer!=='undefined'var f=d&&isFunction(b.ArrayBuffer.prototype.slice)i.arraybuffer=d&&checkTypeSupport('arraybuffer')i.msstream=!i.fetch&&f&&checkTypeSupport('ms-stream')i.mozchunkedarraybuffer=!i.fetch&&d&&checkTypeSupport('moz-chunked-arraybuffer')i.overrideMimeType=isFunction(c.overrideMimeType)i.vbArray=isFunction(b.VBArray)function isFunction(a){return typeof a==='function'}c=null}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],45:[function(t,u,v){(function(h,i,j){var k=t('./capability')var l=t('inherits')var m=t('./response')var n=t('readable-stream')var o=t('to-arraybuffer')var p=m.IncomingMessage var q=m.readyStates function decideMode(a,b){if(k.fetch&&b){return'fetch'}else if(k.mozchunkedarraybuffer){return'moz-chunked-arraybuffer'}else if(k.msstream){return'ms-stream'}else if(k.arraybuffer&&a){return'arraybuffer'}else if(k.vbArray&&a){return'text:vbarray'}else{return'text'}}var r=u.exports=function(b){var c=this n.Writable.call(c)c._opts=b c._body=[]c._headers={}if(b.auth)c.setHeader('Authorization','Basic '+new j(b.auth).toString('base64'))Object.keys(b.headers).forEach(function(a){c.setHeader(a,b.headers[a])})var d var e=true if(b.mode==='disable-fetch'){e=false d=true}else if(b.mode==='prefer-streaming'){d=false}else if(b.mode==='allow-wrong-content-type'){d=!k.overrideMimeType}else if(!b.mode||b.mode==='default'||b.mode==='prefer-fast'){d=true}else{throw new Error('Invalid value for opts.mode')}c._mode=decideMode(d,e)c.on('finish',function(){c._onFinish()})}l(r,n.Writable)r.prototype.setHeader=function(a,b){var c=this var d=a.toLowerCase()if(s.indexOf(d)!==-1)return c._headers[d]={name:a,value:b}}r.prototype.getHeader=function(a){var b=this return b._headers[a.toLowerCase()].value}r.prototype.removeHeader=function(a){var b=this delete b._headers[a.toLowerCase()]}r.prototype._onFinish=function(){var b=this if(b._destroyed)return var c=b._opts var d=b._headers var e if(c.method==='POST'||c.method==='PUT'||c.method==='PATCH'||c.method==='MERGE'){if(k.blobConstructor){e=new i.Blob(b._body.map(function(a){return o(a)}),{type:(d['content-type']||{}).value||''})}else{e=j.concat(b._body).toString()}}if(b._mode==='fetch'){var f=Object.keys(d).map(function(a){return[d[a].name,d[a].value]})i.fetch(b._opts.url,{method:b._opts.method,headers:f,body:e,mode:'cors',credentials:c.withCredentials?'include':'same-origin'}).then(function(a){b._fetchResponse=a b._connect()},function(a){b.emit('error',a)})}else{var g=b._xhr=new i.XMLHttpRequest()try{g.open(b._opts.method,b._opts.url,true)}catch(err){h.nextTick(function(){b.emit('error',err)})return}if('responseType'in g)g.responseType=b._mode.split(':')[0]if('withCredentials'in g)g.withCredentials=!!c.withCredentials if(b._mode==='text'&&'overrideMimeType'in g)g.overrideMimeType('text/plain; charset=x-user-defined')Object.keys(d).forEach(function(a){g.setRequestHeader(d[a].name,d[a].value)})b._response=null g.onreadystatechange=function(){switch(g.readyState){case q.LOADING:case q.DONE:b._onXHRProgress()break}}if(b._mode==='moz-chunked-arraybuffer'){g.onprogress=function(){b._onXHRProgress()}}g.onerror=function(){if(b._destroyed)return b.emit('error',new Error('XHR error'))}try{g.send(e)}catch(err){h.nextTick(function(){b.emit('error',err)})return}}}function statusValid(a){try{var b=a.status return(b!==null&&b!==0)}catch(e){return false}}r.prototype._onXHRProgress=function(){var a=this if(!statusValid(a._xhr)||a._destroyed)return if(!a._response)a._connect()a._response._onXHRProgress()}r.prototype._connect=function(){var a=this if(a._destroyed)return a._response=new p(a._xhr,a._fetchResponse,a._mode)a.emit('response',a._response)}r.prototype._write=function(a,b,c){var d=this d._body.push(a)c()}r.prototype.abort=r.prototype.destroy=function(){var a=this a._destroyed=true if(a._response)a._response._destroyed=true if(a._xhr)a._xhr.abort()}r.prototype.end=function(a,b,c){var d=this if(typeof a==='function'){c=a a=undefined}n.Writable.prototype.end.call(d,a,b,c)}r.prototype.flushHeaders=function(){}r.prototype.setTimeout=function(){}r.prototype.setNoDelay=function(){}r.prototype.setSocketKeepAlive=function(){}var s=['accept-charset','accept-encoding','access-control-request-headers','access-control-request-method','connection','content-length','cookie','cookie2','date','dnt','expect','host','keep-alive','origin','referer','te','trailer','transfer-encoding','upgrade','user-agent','via']}).call(this,t('_process'),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},t("buffer").Buffer)},{"./capability":44,"./response":46,"_process":31,"buffer":21,"inherits":27,"readable-stream":42,"to-arraybuffer":48}],46:[function(t,u,v){(function(l,m,n){var o=t('./capability')var p=t('inherits')var q=t('readable-stream')var r=v.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4}var s=v.IncomingMessage=function(d,e,f){var g=this q.Readable.call(g)g._mode=f g.headers={}g.rawHeaders=[]g.trailers={}g.rawTrailers=[]g.on('end',function(){l.nextTick(function(){g.emit('close')})})if(f==='fetch'){g._fetchResponse=e g.url=e.url g.statusCode=e.status g.statusMessage=e.statusText e.headers.forEach(function(a,b){g.headers[b.toLowerCase()]=a g.rawHeaders.push(b,a)})var h=e.body.getReader()function read(){h.read().then(function(a){if(g._destroyed)return if(a.done){g.push(null)return}g.push(new n(a.value))read()})}read()}else{g._xhr=d g._pos=0 g.url=d.responseURL g.statusCode=d.status g.statusMessage=d.statusText var i=d.getAllResponseHeaders().split(/\r?\n/)i.forEach(function(a){var b=a.match(/^([^:]+):\s*(.*)/)if(b){var c=b[1].toLowerCase()if(c==='set-cookie'){if(g.headers[c]===undefined){g.headers[c]=[]}g.headers[c].push(b[2])}else if(g.headers[c]!==undefined){g.headers[c]+=', '+b[2]}else{g.headers[c]=b[2]}g.rawHeaders.push(b[1],b[2])}})g._charset='x-user-defined'if(!o.overrideMimeType){var j=g.rawHeaders['mime-type']if(j){var k=j.match(/;\s*charset=([^;])(;|$)/)if(k){g._charset=k[1].toLowerCase()}}if(!g._charset)g._charset='utf-8'}}}p(s,q.Readable)s.prototype._read=function(){}s.prototype._onXHRProgress=function(){var a=this var b=a._xhr var c=null switch(a._mode){case'text:vbarray':if(b.readyState!==r.DONE)break try{c=new m.VBArray(b.responseBody).toArray()}catch(e){}if(c!==null){a.push(new n(c))break}case'text':try{c=b.responseText}catch(e){a._mode='text:vbarray'break}if(c.length>a._pos){var d=c.substr(a._pos)if(a._charset==='x-user-defined'){var f=new n(d.length)for(var i=0;i<d.length;i++)f[i]=d.charCodeAt(i)&0xff a.push(f)}else{a.push(d,a._charset)}a._pos=c.length}break case'arraybuffer':if(b.readyState!==r.DONE||!b.response)break c=b.response a.push(new n(new Uint8Array(c)))break case'moz-chunked-arraybuffer':c=b.response if(b.readyState!==r.LOADING||!c)break a.push(new n(new Uint8Array(c)))break case'ms-stream':c=b.response if(b.readyState!==r.LOADING)break var g=new m.MSStreamReader()g.onprogress=function(){if(g.result.byteLength>a._pos){a.push(new n(new Uint8Array(g.result.slice(a._pos))))a._pos=g.result.byteLength}}g.onload=function(){a.push(null)}g.readAsArrayBuffer(c)break}if(a._xhr.readyState===r.DONE&&a._mode!=='ms-stream'){a.push(null)}}}).call(this,t('_process'),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},t("buffer").Buffer)},{"./capability":44,"_process":31,"buffer":21,"inherits":27,"readable-stream":42}],47:[function(g,h,j){var k=g('buffer').Buffer;var l=k.isEncoding||function(a){switch(a&&a.toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':case'raw':return true;default:return false}}function assertEncoding(a){if(a&&!l(a)){throw new Error('Unknown encoding: '+a);}}var m=j.StringDecoder=function(a){this.encoding=(a||'utf8').toLowerCase().replace(/[-_]/,'');assertEncoding(a);switch(this.encoding){case'utf8':this.surrogateSize=3;break;case'ucs2':case'utf16le':this.surrogateSize=2;this.detectIncompleteChar=utf16DetectIncompleteChar;break;case'base64':this.surrogateSize=3;this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new k(6);this.charReceived=0;this.charLength=0};m.prototype.write=function(a){var b='';while(this.charLength){var c=(a.length>=this.charLength-this.charReceived)?this.charLength-this.charReceived:a.length;a.copy(this.charBuffer,this.charReceived,0,c);this.charReceived+=c;if(this.charReceived<this.charLength){return''}a=a.slice(c,a.length);b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(d>=0xD800&&d<=0xDBFF){this.charLength+=this.surrogateSize;b='';continue}this.charReceived=this.charLength=0;if(a.length===0){return b}break}this.detectIncompleteChar(a);var e=a.length;if(this.charLength){a.copy(this.charBuffer,0,a.length-this.charReceived,e);e-=this.charReceived}b+=a.toString(this.encoding,0,e);var e=b.length-1;var d=b.charCodeAt(e);if(d>=0xD800&&d<=0xDBFF){var f=this.surrogateSize;this.charLength+=f;this.charReceived+=f;this.charBuffer.copy(this.charBuffer,f,0,f);a.copy(this.charBuffer,0,0,f);return b.substring(0,e)}return b};m.prototype.detectIncompleteChar=function(a){var i=(a.length>=3)?3:a.length;for(;i>0;i--){var c=a[a.length-i];if(i==1&&c>>5==0x06){this.charLength=2;break}if(i<=2&&c>>4==0x0E){this.charLength=3;break}if(i<=3&&c>>3==0x1E){this.charLength=4;break}}this.charReceived=i};m.prototype.end=function(a){var b='';if(a&&a.length)b=this.write(a);if(this.charReceived){var c=this.charReceived;var d=this.charBuffer;var e=this.encoding;b+=d.slice(0,c).toString(e)}return b};function passThroughWrite(a){return a.toString(this.encoding)}function utf16DetectIncompleteChar(a){this.charReceived=a.length%2;this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(a){this.charReceived=a.length%3;this.charLength=this.charReceived?3:0}},{"buffer":21}],48:[function(d,e,f){var g=d('buffer').Buffer e.exports=function(a){if(a instanceof Uint8Array){if(a.byteOffset===0&&a.byteLength===a.buffer.byteLength){return a.buffer}else if(typeof a.buffer.slice==='function'){return a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}}if(g.isBuffer(a)){var b=new Uint8Array(a.length)var c=a.length for(var i=0;i<c;i++){b[i]=a[i]}return b.buffer}else{throw new Error('Argument must be a Buffer')}}},{"buffer":21}],49:[function(E,F,G){'use strict';var H=E('punycode');var I=E('./util');G.parse=urlParse;G.resolve=urlResolve;G.resolveObject=urlResolveObject;G.format=urlFormat;G.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var J=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=['<','>','"','`',' ','\r','\n','\t'],unwise=['{','}','|','\\','^','`'].concat(delims),autoEscape=['\''].concat(unwise),nonHostChars=['%','/','?',';','#'].concat(autoEscape),hostEndingChars=['/','?','#'],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={'javascript':true,'javascript:':true},hostlessProtocol={'javascript':true,'javascript:':true},slashedProtocol={'http':true,'https':true,'ftp':true,'gopher':true,'file':true,'http:':true,'https:':true,'ftp:':true,'gopher:':true,'file:':true},querystring=E('querystring');function urlParse(a,b,c){if(a&&I.isObject(a)&&a instanceof Url)return a;var u=new Url;u.parse(a,b,c);return u}Url.prototype.parse=function(a,b,c){if(!I.isString(a)){throw new TypeError("Parameter 'url' must be a string, not "+typeof a);}var d=a.indexOf('?'),splitter=(d!==-1&&d<a.indexOf('#'))?'?':'#',uSplit=a.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,'/');a=uSplit.join(splitter);var e=a;e=e.trim();if(!c&&a.split('#').length===1){var f=simplePathPattern.exec(e);if(f){this.path=e;this.href=e;this.pathname=f[1];if(f[2]){this.search=f[2];if(b){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(b){this.search='';this.query={}}return this}}var g=J.exec(e);if(g){g=g[0];var m=g.toLowerCase();this.protocol=m;e=e.substr(g.length)}if(c||g||e.match(/^\/\/[^@\/]+@[^@\/]+/)){var n=e.substr(0,2)==='//';if(n&&!(g&&hostlessProtocol[g])){e=e.substr(2);this.slashes=true}}if(!hostlessProtocol[g]&&(n||(g&&!slashedProtocol[g]))){var o=-1;for(var i=0;i<hostEndingChars.length;i++){var q=e.indexOf(hostEndingChars[i]);if(q!==-1&&(o===-1||q<o))o=q}var r,atSign;if(o===-1){atSign=e.lastIndexOf('@')}else{atSign=e.lastIndexOf('@',o)}if(atSign!==-1){r=e.slice(0,atSign);e=e.slice(atSign+1);this.auth=decodeURIComponent(r)}o=-1;for(var i=0;i<nonHostChars.length;i++){var q=e.indexOf(nonHostChars[i]);if(q!==-1&&(o===-1||q<o))o=q}if(o===-1)o=e.length;this.host=e.slice(0,o);e=e.slice(o);this.parseHost();this.hostname=this.hostname||'';var t=this.hostname[0]==='['&&this.hostname[this.hostname.length-1]===']';if(!t){var u=this.hostname.split(/\./);for(var i=0,l=u.length;i<l;i++){var v=u[i];if(!v)continue;if(!v.match(hostnamePartPattern)){var w='';for(var j=0,k=v.length;j<k;j++){if(v.charCodeAt(j)>127){w+='x'}else{w+=v[j]}}if(!w.match(hostnamePartPattern)){var x=u.slice(0,i);var y=u.slice(i+1);var z=v.match(hostnamePartStart);if(z){x.push(z[1]);y.unshift(z[2])}if(y.length){e='/'+y.join('.')+e}this.hostname=x.join('.');break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=''}else{this.hostname=this.hostname.toLowerCase()}if(!t){this.hostname=H.toASCII(this.hostname)}var p=this.port?':'+this.port:'';var h=this.hostname||'';this.host=h+p;this.href+=this.host;if(t){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(e[0]!=='/'){e='/'+e}}}if(!unsafeProtocol[m]){for(var i=0,l=autoEscape.length;i<l;i++){var A=autoEscape[i];if(e.indexOf(A)===-1)continue;var B=encodeURIComponent(A);if(B===A){B=escape(A)}e=e.split(A).join(B)}}var C=e.indexOf('#');if(C!==-1){this.hash=e.substr(C);e=e.slice(0,C)}var D=e.indexOf('?');if(D!==-1){this.search=e.substr(D);this.query=e.substr(D+1);if(b){this.query=querystring.parse(this.query)}e=e.slice(0,D)}else if(b){this.search='';this.query={}}if(e)this.pathname=e;if(slashedProtocol[m]&&this.hostname&&!this.pathname){this.pathname='/'}if(this.pathname||this.search){var p=this.pathname||'';var s=this.search||'';this.path=p+s}this.href=this.format();return this};function urlFormat(a){if(I.isString(a))a=urlParse(a);if(!(a instanceof Url))return Url.prototype.format.call(a);return a.format()}Url.prototype.format=function(){var b=this.auth||'';if(b){b=encodeURIComponent(b);b=b.replace(/%3A/i,':');b+='@'}var c=this.protocol||'',pathname=this.pathname||'',hash=this.hash||'',host=false,query='';if(this.host){host=b+this.host}else if(this.hostname){host=b+(this.hostname.indexOf(':')===-1?this.hostname:'['+this.hostname+']');if(this.port){host+=':'+this.port}}if(this.query&&I.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var d=this.search||(query&&('?'+query))||'';if(c&&c.substr(-1)!==':')c+=':';if(this.slashes||(!c||slashedProtocol[c])&&host!==false){host='//'+(host||'');if(pathname&&pathname.charAt(0)!=='/')pathname='/'+pathname}else if(!host){host=''}if(hash&&hash.charAt(0)!=='#')hash='#'+hash;if(d&&d.charAt(0)!=='?')d='?'+d;pathname=pathname.replace(/[?#]/g,function(a){return encodeURIComponent(a)});d=d.replace('#','%23');return c+host+pathname+d+hash};function urlResolve(a,b){return urlParse(a,false,true).resolve(b)}Url.prototype.resolve=function(a){return this.resolveObject(urlParse(a,false,true)).format()};function urlResolveObject(a,b){if(!a)return b;return urlParse(a,false,true).resolveObject(b)}Url.prototype.resolveObject=function(a){if(I.isString(a)){var b=new Url();b.parse(a,false,true);a=b}var c=new Url();var d=Object.keys(this);for(var e=0;e<d.length;e++){var f=d[e];c[f]=this[f]}c.hash=a.hash;if(a.href===''){c.href=c.format();return c}if(a.slashes&&!a.protocol){var g=Object.keys(a);for(var h=0;h<g.length;h++){var j=g[h];if(j!=='protocol')c[j]=a[j]}if(slashedProtocol[c.protocol]&&c.hostname&&!c.pathname){c.path=c.pathname='/'}c.href=c.format();return c}if(a.protocol&&a.protocol!==c.protocol){if(!slashedProtocol[a.protocol]){var l=Object.keys(a);for(var v=0;v<l.length;v++){var k=l[v];c[k]=a[k]}c.href=c.format();return c}c.protocol=a.protocol;if(!a.host&&!hostlessProtocol[a.protocol]){var m=(a.pathname||'').split('/');while(m.length&&!(a.host=m.shift()));if(!a.host)a.host='';if(!a.hostname)a.hostname='';if(m[0]!=='')m.unshift('');if(m.length<2)m.unshift('');c.pathname=m.join('/')}else{c.pathname=a.pathname}c.search=a.search;c.query=a.query;c.host=a.host||'';c.auth=a.auth;c.hostname=a.hostname||a.host;c.port=a.port;if(c.pathname||c.search){var p=c.pathname||'';var s=c.search||'';c.path=p+s}c.slashes=c.slashes||a.slashes;c.href=c.format();return c}var n=(c.pathname&&c.pathname.charAt(0)==='/'),isRelAbs=(a.host||a.pathname&&a.pathname.charAt(0)==='/'),mustEndAbs=(isRelAbs||n||(c.host&&a.pathname)),removeAllDots=mustEndAbs,srcPath=c.pathname&&c.pathname.split('/')||[],m=a.pathname&&a.pathname.split('/')||[],psychotic=c.protocol&&!slashedProtocol[c.protocol];if(psychotic){c.hostname='';c.port=null;if(c.host){if(srcPath[0]==='')srcPath[0]=c.host;else srcPath.unshift(c.host)}c.host='';if(a.protocol){a.hostname=null;a.port=null;if(a.host){if(m[0]==='')m[0]=a.host;else m.unshift(a.host)}a.host=null}mustEndAbs=mustEndAbs&&(m[0]===''||srcPath[0]==='')}if(isRelAbs){c.host=(a.host||a.host==='')?a.host:c.host;c.hostname=(a.hostname||a.hostname==='')?a.hostname:c.hostname;c.search=a.search;c.query=a.query;srcPath=m}else if(m.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(m);c.search=a.search;c.query=a.query}else if(!I.isNullOrUndefined(a.search)){if(psychotic){c.hostname=c.host=srcPath.shift();var o=c.host&&c.host.indexOf('@')>0?c.host.split('@'):false;if(o){c.auth=o.shift();c.host=c.hostname=o.shift()}}c.search=a.search;c.query=a.query;if(!I.isNull(c.pathname)||!I.isNull(c.search)){c.path=(c.pathname?c.pathname:'')+(c.search?c.search:'')}c.href=c.format();return c}if(!srcPath.length){c.pathname=null;if(c.search){c.path='/'+c.search}else{c.path=null}c.href=c.format();return c}var q=srcPath.slice(-1)[0];var r=((c.host||a.host||srcPath.length>1)&&(q==='.'||q==='..')||q==='');var t=0;for(var i=srcPath.length;i>=0;i--){q=srcPath[i];if(q==='.'){srcPath.splice(i,1)}else if(q==='..'){srcPath.splice(i,1);t++}else if(t){srcPath.splice(i,1);t--}}if(!mustEndAbs&&!removeAllDots){for(;t--;t){srcPath.unshift('..')}}if(mustEndAbs&&srcPath[0]!==''&&(!srcPath[0]||srcPath[0].charAt(0)!=='/')){srcPath.unshift('')}if(r&&(srcPath.join('/').substr(-1)!=='/')){srcPath.push('')}var u=srcPath[0]===''||(srcPath[0]&&srcPath[0].charAt(0)==='/');if(psychotic){c.hostname=c.host=u?'':srcPath.length?srcPath.shift():'';var o=c.host&&c.host.indexOf('@')>0?c.host.split('@'):false;if(o){c.auth=o.shift();c.host=c.hostname=o.shift()}}mustEndAbs=mustEndAbs||(c.host&&srcPath.length);if(mustEndAbs&&!u){srcPath.unshift('')}if(!srcPath.length){c.pathname=null;c.path=null}else{c.pathname=srcPath.join('/')}if(!I.isNull(c.pathname)||!I.isNull(c.search)){c.path=(c.pathname?c.pathname:'')+(c.search?c.search:'')}c.auth=a.auth||c.auth;c.slashes=c.slashes||a.slashes;c.href=c.format();return c};Url.prototype.parseHost=function(){var a=this.host;var b=portPattern.exec(a);if(b){b=b[0];if(b!==':'){this.port=b.substr(1)}a=a.substr(0,a.length-b.length)}if(a)this.hostname=a}},{"./util":50,"punycode":32,"querystring":35}],50:[function(b,c,d){'use strict';c.exports={isString:function(a){return typeof(a)==='string'},isObject:function(a){return typeof(a)==='object'&&a!==null},isNull:function(a){return a===null},isNullOrUndefined:function(a){return a==null}}},{}],51:[function(e,f,g){(function(d){f.exports=deprecate;function deprecate(a,b){if(config('noDeprecation')){return a}var c=false;function deprecated(){if(!c){if(config('throwDeprecation')){throw new Error(b);}else if(config('traceDeprecation')){console.trace(b)}else{console.warn(b)}c=true}return a.apply(this,arguments)}return deprecated}function config(a){try{if(!d.localStorage)return false}catch(_){return false}var b=d.localStorage[a];if(null==b)return false;return String(b).toLowerCase()==='true'}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],52:[function(T,U,V){(function(O,P){var Q=T("url");var R=T("child_process").spawn;var S=T("fs");V.XMLHttpRequest=function(){"use strict";var w=this;var x=T("http");var y=T("https");var z;var A;var B={};var C=false;var D={"User-Agent":"node-XMLHttpRequest","Accept":"*/*",};var E={};var F={};var G=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];var H=["TRACE","TRACK","CONNECT"];var I=false;var J=false;var K={};this.UNSENT=0;this.OPENED=1;this.HEADERS_RECEIVED=2;this.LOADING=3;this.DONE=4;this.readyState=this.UNSENT;this.onreadystatechange=null;this.responseText="";this.responseXML="";this.status=null;this.statusText=null;this.withCredentials=false;var L=function(a){return C||(a&&G.indexOf(a.toLowerCase())===-1)};var M=function(a){return(a&&H.indexOf(a)===-1)};this.open=function(a,b,c,d,e){this.abort();J=false;if(!M(a)){throw new Error("SecurityError: Request method not allowed");}B={"method":a,"url":b.toString(),"async":(typeof c!=="boolean"?true:c),"user":d||null,"password":e||null};N(this.OPENED)};this.setDisableHeaderCheck=function(a){C=a};this.setRequestHeader=function(a,b){if(this.readyState!==this.OPENED){throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");}if(!L(a)){console.warn("Refused to set unsafe header \""+a+"\"");return}if(I){throw new Error("INVALID_STATE_ERR: send flag is true");}a=F[a.toLowerCase()]||a;F[a.toLowerCase()]=a;E[a]=E[a]?E[a]+', '+b:b};this.getResponseHeader=function(a){if(typeof a==="string"&&this.readyState>this.OPENED&&A&&A.headers&&A.headers[a.toLowerCase()]&&!J){return A.headers[a.toLowerCase()]}return null};this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||J){return""}var a="";for(var i in A.headers){if(i!=="set-cookie"&&i!=="set-cookie2"){a+=i+": "+A.headers[i]+"\r\n"}}return a.substr(0,a.length-2)};this.getRequestHeader=function(a){if(typeof a==="string"&&F[a.toLowerCase()]){return E[F[a.toLowerCase()]]}return""};this.send=function(f){if(this.readyState!==this.OPENED){throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");}if(I){throw new Error("INVALID_STATE_ERR: send has already been called");}var g=false,local=false;var h=Q.parse(B.url);var i;switch(h.protocol){case"https:":g=true;case"http:":i=h.hostname;break;case"file:":local=true;break;case undefined:case null:case"":i="localhost";break;default:throw new Error("Protocol not supported.");}if(local){if(B.method!=="GET"){throw new Error("XMLHttpRequest: Only GET method is supported");}if(B.async){S.readFile(h.pathname,"utf8",function(a,b){if(a){w.handleError(a)}else{w.status=200;w.responseText=b;N(w.DONE)}})}else{try{this.responseText=S.readFileSync(h.pathname,"utf8");this.status=200;N(w.DONE)}catch(e){this.handleError(e)}}return}var j=h.port||(g?443:80);var k=h.pathname+(h.search?h.search:"");for(var l in D){if(!F[l.toLowerCase()]){E[l]=D[l]}}E.Host=i;if(!((g&&j===443)||j===80)){E.Host+=":"+h.port}if(B.user){if(typeof B.password==="undefined"){B.password=""}var m=new P(B.user+":"+B.password);E.Authorization="Basic "+m.toString("base64")}if(B.method==="GET"||B.method==="HEAD"){f=null}else if(f){E["Content-Length"]=P.isBuffer(f)?f.length:P.byteLength(f);if(!E["Content-Type"]){E["Content-Type"]="text/plain;charset=UTF-8"}}else if(B.method==="POST"){E["Content-Length"]=0}var n={host:i,port:j,path:k,method:B.method,headers:E,agent:false,withCredentials:w.withCredentials};J=false;if(B.async){var o=g?y.request:x.request;I=true;w.dispatchEvent("readystatechange");var p=function p(b){A=b;if(A.statusCode===301||A.statusCode===302||A.statusCode===303||A.statusCode===307){B.url=A.headers.location;var c=Q.parse(B.url);i=c.hostname;var d={hostname:c.hostname,port:c.port,path:c.path,method:A.statusCode===303?"GET":B.method,headers:E,withCredentials:w.withCredentials};z=o(d,p).on("error",q);z.end();return}A.setEncoding("utf8");N(w.HEADERS_RECEIVED);w.status=A.statusCode;A.on("data",function(a){if(a){w.responseText+=a}if(I){N(w.LOADING)}});A.on("end",function(){if(I){N(w.DONE);I=false}});A.on("error",function(a){w.handleError(a)})};var q=function q(a){w.handleError(a)};z=o(n,p).on("error",q);if(f){z.write(f)}z.end();w.dispatchEvent("loadstart")}else{var r=".node-xmlhttprequest-content-"+O.pid;var s=".node-xmlhttprequest-sync-"+O.pid;S.writeFileSync(s,"","utf8");var t="var http = require('http'), https = require('https'), fs = require('fs');"+"var doRequest = http"+(g?"s":"")+".request;"+"var options = "+JSON.stringify(n)+";"+"var responseText = '';"+"var req = doRequest(options, function(response) {"+"response.setEncoding('utf8');"+"response.on('data', function(chunk) {"+"  responseText += chunk;"+"});"+"response.on('end', function() {"+"fs.writeFileSync('"+r+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');"+"fs.unlinkSync('"+s+"');"+"});"+"response.on('error', function(error) {"+"fs.writeFileSync('"+r+"', JSON.stringify({err: error}), 'utf8');"+"fs.unlinkSync('"+s+"');"+"});"+"}).on('error', function(error) {"+"fs.writeFileSync('"+r+"', JSON.stringify({err: error}), 'utf8');"+"fs.unlinkSync('"+s+"');"+"});"+(f?"req.write('"+JSON.stringify(f).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();";var u=R(O.argv[0],["-e",t]);while(S.existsSync(s)){}var v=JSON.parse(S.readFileSync(r,'utf8'));u.stdin.end();S.unlinkSync(r);if(v.err){w.handleError(v.err)}else{A=v.data;w.status=v.data.statusCode;w.responseText=v.data.text;N(w.DONE)}}};this.handleError=function(a){this.status=0;this.statusText=a;this.responseText=a.stack;J=true;N(this.DONE);this.dispatchEvent('error')};this.abort=function(){if(z){z.abort();z=null}E=D;this.status=0;this.responseText="";this.responseXML="";J=true;if(this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||I)&&this.readyState!==this.DONE){I=false;N(this.DONE)}this.readyState=this.UNSENT;this.dispatchEvent('abort')};this.addEventListener=function(a,b){if(!(a in K)){K[a]=[]}K[a].push(b)};this.removeEventListener=function(b,c){if(b in K){K[b]=K[b].filter(function(a){return a!==c})}};this.dispatchEvent=function(a){if(typeof w["on"+a]==="function"){w["on"+a]()}if(a in K){for(var i=0,len=K[a].length;i<len;i++){K[a][i].call(w)}}};var N=function(a){if(a==w.LOADING||w.readyState!==a){w.readyState=a;if(B.async||w.readyState<w.OPENED||w.readyState===w.DONE){w.dispatchEvent("readystatechange")}if(w.readyState===w.DONE&&!J){w.dispatchEvent("load");w.dispatchEvent("loadend")}}}}}).call(this,T('_process'),T("buffer").Buffer)},{"_process":31,"buffer":21,"child_process":19,"fs":19,"http":43,"https":25,"url":49}],53:[function(d,e,f){e.exports=extend var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var a={}for(var i=0;i<arguments.length;i++){var b=arguments[i]for(var c in b){if(hasOwnProperty.call(b,c)){a[c]=b[c]}}}return a}},{}]},{},[1]);